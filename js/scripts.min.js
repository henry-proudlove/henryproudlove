function clone(e){var t={};for(var i in e)t[i]=e[i];return t}function whichTransitionEvent(){var e,t=document.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}function whichAnimationEvent(){var e,t=document.createElement("fakeelement"),i={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==t.style[e])return i[e]}var Froogaloop=function(){function e(t){return new e.fn.init(t)}function t(e,t,i){if(!i.contentWindow.postMessage)return!1;var n=i.getAttribute("src").split("?")[0],s=JSON.stringify({method:e,value:t});"//"===n.substr(0,2)&&(n=window.location.protocol+n),i.contentWindow.postMessage(s,n)}function i(e){var t,i;try{t=JSON.parse(e.data),i=t.event||t.method}catch(n){}if("ready"!=i||l||(l=!0),e.origin!=d)return!1;var o=t.value,a=t.data,r=""===r?null:t.player_id,c=s(i,r),u=[];return c?(void 0!==o&&u.push(o),a&&u.push(a),r&&u.push(r),u.length>0?c.apply(null,u):c.call()):!1}function n(e,t,i){i?(c[i]||(c[i]={}),c[i][e]=t):c[e]=t}function s(e,t){return t?c[t][e]:c[e]}function o(e,t){if(t&&c[t]){if(!c[t][e])return!1;c[t][e]=null}else{if(!c[e])return!1;c[e]=null}return!0}function a(e){"//"===e.substr(0,2)&&(e=window.location.protocol+e);for(var t=e.split("/"),i="",n=0,s=t.length;s>n&&3>n;n++)i+=t[n],2>n&&(i+="/");return i}function r(e){return!!(e&&e.constructor&&e.call&&e.apply)}var c={},l=!1,d=(Array.prototype.slice,"");return e.fn=e.prototype={element:null,init:function(e){return"string"==typeof e&&(e=document.getElementById(e)),this.element=e,d=a(this.element.getAttribute("src")),this},api:function(e,i){if(!this.element||!e)return!1;var s=this,o=s.element,a=""!==o.id?o.id:null,c=r(i)?null:i,l=r(i)?i:null;return l&&n(e,l,a),t(e,c,o),s},addEvent:function(e,i){if(!this.element)return!1;var s=this,o=s.element,a=""!==o.id?o.id:null;return n(e,i,a),"ready"!=e?t("addEventListener",e,o):"ready"==e&&l&&i.call(null,a),s},removeEvent:function(e){if(!this.element)return!1;var i=this,n=i.element,s=""!==n.id?n.id:null,a=o(e,s);"ready"!=e&&a&&t("removeEventListener",e,n)}},e.fn.init.prototype=e.fn,window.addEventListener?window.addEventListener("message",i,!1):window.attachEvent("onmessage",i),window.Froogaloop=window.$f=e}();!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?module.exports=t():e.viewportUnitsBuggyfill=t()}(this,function(){"use strict";function e(e,t){var i;return function(){var n=this,s=arguments,o=function(){e.apply(n,s)};clearTimeout(i),i=setTimeout(o,t)}}function t(){try{return window.self!==window.top}catch(e){return!0}}function i(i){if(!w){if(i===!0&&(i={force:!0}),v=i||{},v.isMobileSafari=S,v.isBadStockAndroid=P,!(!I&&(v.force||S||x||P||$||v.hacks&&v.hacks.required(v))))return window.console&&I&&console.info("viewport-units-buggyfill requires a proper CSSOM and basic viewport unit support, which are not available in IE8 and below"),{init:function(){}};v.hacks&&v.hacks.initialize(v),w=!0,y=document.createElement("style"),y.id="patched-viewport",document.head.appendChild(y),u(function(){var i=e(s,v.refreshDebounceWait||100);window.addEventListener("orientationchange",i,!0),window.addEventListener("pageshow",i,!0),(v.force||x||t())&&(window.addEventListener("resize",i,!0),v._listeningToResize=!0),v.hacks&&v.hacks.initializeEvents(v,s,i),s()})}}function n(){y.textContent=r(),y.parentNode.appendChild(y)}function s(){w&&(o(),setTimeout(function(){n()},1))}function o(){return g=[],C.call(document.styleSheets,function(e){"patched-viewport"!==e.ownerNode.id&&e.cssRules&&"ignore"!==e.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(e.media&&e.media.mediaText&&window.matchMedia&&!window.matchMedia(e.media.mediaText).matches||C.call(e.cssRules,a))}),g}function a(e){if(7===e.type){var t;try{t=e.cssText}catch(i){return}return A.lastIndex=0,void(A.test(t)&&(g.push([e,null,t]),v.hacks&&v.hacks.findDeclarations(g,e,null,t)))}if(!e.style){if(!e.cssRules)return;return void C.call(e.cssRules,function(e){a(e)})}C.call(e.style,function(t){var i=e.style.getPropertyValue(t);e.style.getPropertyPriority(t)&&(i+=" !important"),A.lastIndex=0,A.test(i)&&(g.push([e,t,i]),v.hacks&&v.hacks.findDeclarations(g,e,t,i))})}function r(){m=d();var e,t,i=[],n=[];return g.forEach(function(s){var o=c.apply(null,s),a=o.selector.length?o.selector.join(" {\n")+" {\n":"",r=new Array(o.selector.length+1).join("\n}");return a&&a===e?(a&&!e&&(e=a,t=r),void n.push(o.content)):(n.length&&(i.push(e+n.join("\n")+t),n.length=0),void(a?(e=a,t=r,n.push(o.content)):(i.push(o.content),e=null,t=null)))}),n.length&&i.push(e+n.join("\n")+t),$&&i.push("* { content: normal !important; }"),i.join("\n\n")}function c(e,t,i){var n,s=[];n=i.replace(A,l),v.hacks&&(n=v.hacks.overwriteDeclaration(e,t,n)),t&&(s.push(e.selectorText),n=t+": "+n+";");for(var o=e.parentRule;o;)s.unshift("@media "+o.media.mediaText),o=o.parentRule;return{selector:s,content:n}}function l(e,t,i){var n=m[i],s=parseFloat(t)/100;return s*n+"px"}function d(){var e=window.innerHeight,t=window.innerWidth;return{vh:e,vw:t,vmax:Math.max(t,e),vmin:Math.min(t,e)}}function u(e){var t=0,i=function(){t--,t||e()};C.call(document.styleSheets,function(e){e.href&&f(e.href)!==f(location.href)&&(t++,p(e.ownerNode,i))}),t||e()}function f(e){return e.slice(0,e.indexOf("/",e.indexOf("://")+3))}function p(e,t){h(e.href,function(){var i=document.createElement("style");i.media=e.media,i.setAttribute("data-href",e.href),i.textContent=this.responseText,e.parentNode.replaceChild(i,e),t()},t)}function h(e,t,i){var n=new XMLHttpRequest;if("withCredentials"in n)n.open("GET",e,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");n=new XDomainRequest,n.open("GET",e)}return n.onload=t,n.onerror=i,n.send(),n}var v,m,g,y,w=!1,b=window.navigator.userAgent,A=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,C=[].forEach,x=!1,I=!1,$=b.indexOf("Opera Mini")>-1,S=/(iPhone|iPod|iPad).+AppleWebKit/i.test(b)&&function(){var e=b.match(/OS (\d)/);return e&&e.length>1&&parseInt(e[1])<8}(),P=function(){var e=b.indexOf(" Android ")>-1;if(!e)return!1;var t=b.indexOf("Version/")>-1;if(!t)return!1;var i=parseFloat((b.match("Android ([0-9.]+)")||[])[1]);return 4.4>=i}();return x||(x=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),{version:"0.5.2",findProperties:o,getCss:r,init:i,refresh:s}}),function(e){"use strict";function t(e){return(e||"").toLowerCase()}var i="2.1.6";e.fn.cycle=function(i){var n;return 0!==this.length||e.isReady?this.each(function(){var n,s,o,a,r=e(this),c=e.fn.cycle.log;if(!r.data("cycle.opts")){(r.data("cycle-log")===!1||i&&i.log===!1||s&&s.log===!1)&&(c=e.noop),c("--c2 init--"),n=r.data();for(var l in n)n.hasOwnProperty(l)&&/^cycle[A-Z]+/.test(l)&&(a=n[l],o=l.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),c(o+":",a,"("+typeof a+")"),n[o]=a);s=e.extend({},e.fn.cycle.defaults,n,i||{}),s.timeoutId=0,s.paused=s.paused||!1,s.container=r,s._maxZ=s.maxZ,s.API=e.extend({_container:r},e.fn.cycle.API),s.API.log=c,s.API.trigger=function(e,t){return s.container.trigger(e,t),s.API},r.data("cycle.opts",s),r.data("cycle.API",s.API),s.API.trigger("cycle-bootstrap",[s,s.API]),s.API.addInitialSlides(),s.API.preInitSlideshow(),s.slides.length&&s.API.initSlideshow()}}):(n={s:this.selector,c:this.context},e.fn.cycle.log("requeuing slideshow (dom not ready)"),e(function(){e(n.s,n.c).cycle(i)}),this)},e.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var t=this.opts(),i=t.slides;t.slideCount=0,t.slides=e(),i=i.jquery?i:t.container.find(i),t.random&&i.sort(function(){return Math.random()-.5}),t.API.add(i)},preInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-pre-initialize",[t]);var i=e.fn.cycle.transitions[t.fx];i&&e.isFunction(i.preInit)&&i.preInit(t),t._preInitialized=!0},postInitSlideshow:function(){var t=this.opts();t.API.trigger("cycle-post-initialize",[t]);var i=e.fn.cycle.transitions[t.fx];i&&e.isFunction(i.postInit)&&i.postInit(t)},initSlideshow:function(){var t,i=this.opts(),n=i.container;i.API.calcFirstSlide(),"static"==i.container.css("position")&&i.container.css("position","relative"),e(i.slides[i.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),i.API.stackSlides(i.slides[i.currSlide],i.slides[i.nextSlide],!i.reverse),i.pauseOnHover&&(i.pauseOnHover!==!0&&(n=e(i.pauseOnHover)),n.hover(function(){i.API.pause(!0)},function(){i.API.resume(!0)})),i.timeout&&(t=i.API.getSlideOpts(i.currSlide),i.API.queueTransition(t,t.timeout+i.delay)),i._initialized=!0,i.API.updateView(!0),i.API.trigger("cycle-initialized",[i]),i.API.postInitSlideshow()},pause:function(t){var i=this.opts(),n=i.API.getSlideOpts(),s=i.hoverPaused||i.paused;t?i.hoverPaused=!0:i.paused=!0,s||(i.container.addClass("cycle-paused"),i.API.trigger("cycle-paused",[i]).log("cycle-paused"),n.timeout&&(clearTimeout(i.timeoutId),i.timeoutId=0,i._remainingTimeout-=e.now()-i._lastQueue,(i._remainingTimeout<0||isNaN(i._remainingTimeout))&&(i._remainingTimeout=void 0)))},resume:function(e){var t=this.opts(),i=!t.hoverPaused&&!t.paused;e?t.hoverPaused=!1:t.paused=!1,i||(t.container.removeClass("cycle-paused"),0===t.slides.filter(":animated").length&&t.API.queueTransition(t.API.getSlideOpts(),t._remainingTimeout),t.API.trigger("cycle-resumed",[t,t._remainingTimeout]).log("cycle-resumed"))},add:function(t,i){var n,s=this.opts(),o=s.slideCount,a=!1;"string"==e.type(t)&&(t=e.trim(t)),e(t).each(function(){var t,n=e(this);i?s.container.prepend(n):s.container.append(n),s.slideCount++,t=s.API.buildSlideOpts(n),s.slides=i?e(n).add(s.slides):s.slides.add(n),s.API.initSlide(t,n,--s._maxZ),n.data("cycle.opts",t),s.API.trigger("cycle-slide-added",[s,t,n])}),s.API.updateView(!0),a=s._preInitialized&&2>o&&s.slideCount>=1,a&&(s._initialized?s.timeout&&(n=s.slides.length,s.nextSlide=s.reverse?n-1:1,s.timeoutId||s.API.queueTransition(s)):s.API.initSlideshow())},calcFirstSlide:function(){var e,t=this.opts();e=parseInt(t.startingSlide||0,10),(e>=t.slides.length||0>e)&&(e=0),t.currSlide=e,t.reverse?(t.nextSlide=e-1,t.nextSlide<0&&(t.nextSlide=t.slides.length-1)):(t.nextSlide=e+1,t.nextSlide==t.slides.length&&(t.nextSlide=0))},calcNextSlide:function(){var e,t=this.opts();t.reverse?(e=t.nextSlide-1<0,t.nextSlide=e?t.slideCount-1:t.nextSlide-1,t.currSlide=e?0:t.nextSlide+1):(e=t.nextSlide+1==t.slides.length,t.nextSlide=e?0:t.nextSlide+1,t.currSlide=e?t.slides.length-1:t.nextSlide-1)},calcTx:function(t,i){var n,s=t;return s._tempFx?n=e.fn.cycle.transitions[s._tempFx]:i&&s.manualFx&&(n=e.fn.cycle.transitions[s.manualFx]),n||(n=e.fn.cycle.transitions[s.fx]),s._tempFx=null,this.opts()._tempFx=null,n||(n=e.fn.cycle.transitions.fade,s.API.log('Transition "'+s.fx+'" not found.  Using fade.')),n},prepareTx:function(e,t){var i,n,s,o,a,r=this.opts();return r.slideCount<2?void(r.timeoutId=0):(!e||r.busy&&!r.manualTrump||(r.API.stopTransition(),r.busy=!1,clearTimeout(r.timeoutId),r.timeoutId=0),void(r.busy||(0!==r.timeoutId||e)&&(n=r.slides[r.currSlide],s=r.slides[r.nextSlide],o=r.API.getSlideOpts(r.nextSlide),a=r.API.calcTx(o,e),r._tx=a,e&&void 0!==o.manualSpeed&&(o.speed=o.manualSpeed),r.nextSlide!=r.currSlide&&(e||!r.paused&&!r.hoverPaused&&r.timeout)?(r.API.trigger("cycle-before",[o,n,s,t]),a.before&&a.before(o,n,s,t),i=function(){r.busy=!1,r.container.data("cycle.opts")&&(a.after&&a.after(o,n,s,t),r.API.trigger("cycle-after",[o,n,s,t]),r.API.queueTransition(o),r.API.updateView(!0))},r.busy=!0,a.transition?a.transition(o,n,s,t,i):r.API.doTransition(o,n,s,t,i),r.API.calcNextSlide(),r.API.updateView()):r.API.queueTransition(o))))},doTransition:function(t,i,n,s,o){var a=t,r=e(i),c=e(n),l=function(){c.transition(a.animIn||{opacity:1},a.speed,o)};c.css(a.cssBefore||{}),r.transition(a.animOut||{},a.speed,function(){r.css(a.cssAfter||{}),a.sync||l()}),a.sync&&l()},queueTransition:function(t,i){var n=this.opts(),s=void 0!==i?i:t.timeout;return 0===n.nextSlide&&0===--n.loop?(n.API.log("terminating; loop=0"),n.timeout=0,s?setTimeout(function(){n.API.trigger("cycle-finished",[n])},s):n.API.trigger("cycle-finished",[n]),void(n.nextSlide=n.currSlide)):void 0!==n.continueAuto&&(n.continueAuto===!1||e.isFunction(n.continueAuto)&&n.continueAuto()===!1)?(n.API.log("terminating automatic transitions"),n.timeout=0,void(n.timeoutId&&clearTimeout(n.timeoutId))):void(s&&(n._lastQueue=e.now(),void 0===i&&(n._remainingTimeout=t.timeout),n.paused||n.hoverPaused||(n.timeoutId=setTimeout(function(){n.API.prepareTx(!1,!n.reverse)},s))))},stopTransition:function(){var e=this.opts();e.slides.filter(":animated").length&&(e.slides.stop(!1,!0),e.API.trigger("cycle-transition-stopped",[e])),e._tx&&e._tx.stopTransition&&e._tx.stopTransition(e)},advanceSlide:function(e){var t=this.opts();return clearTimeout(t.timeoutId),t.timeoutId=0,t.nextSlide=t.currSlide+e,t.nextSlide<0?t.nextSlide=t.slides.length-1:t.nextSlide>=t.slides.length&&(t.nextSlide=0),t.API.prepareTx(!0,e>=0),!1},buildSlideOpts:function(i){var n,s,o=this.opts(),a=i.data()||{};for(var r in a)a.hasOwnProperty(r)&&/^cycle[A-Z]+/.test(r)&&(n=a[r],s=r.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,t),o.API.log("["+(o.slideCount-1)+"]",s+":",n,"("+typeof n+")"),a[s]=n);a=e.extend({},e.fn.cycle.defaults,o,a),a.slideNum=o.slideCount;try{delete a.API,delete a.slideCount,delete a.currSlide,delete a.nextSlide,delete a.slides}catch(c){}return a},getSlideOpts:function(t){var i=this.opts();void 0===t&&(t=i.currSlide);var n=i.slides[t],s=e(n).data("cycle.opts");return e.extend({},i,s)},initSlide:function(t,i,n){var s=this.opts();i.css(t.slideCss||{}),n>0&&i.css("zIndex",n),isNaN(t.speed)&&(t.speed=e.fx.speeds[t.speed]||e.fx.speeds._default),t.sync||(t.speed=t.speed/2),i.addClass(s.slideClass)},updateView:function(e,t){var i=this.opts();if(i._initialized){var n=i.API.getSlideOpts(),s=i.slides[i.currSlide];!e&&t!==!0&&(i.API.trigger("cycle-update-view-before",[i,n,s]),i.updateView<0)||(i.slideActiveClass&&i.slides.removeClass(i.slideActiveClass).eq(i.currSlide).addClass(i.slideActiveClass),e&&i.hideNonActive&&i.slides.filter(":not(."+i.slideActiveClass+")").css("visibility","hidden"),0===i.updateView&&setTimeout(function(){i.API.trigger("cycle-update-view",[i,n,s,e])},n.speed/(i.sync?2:1)),0!==i.updateView&&i.API.trigger("cycle-update-view",[i,n,s,e]),e&&i.API.trigger("cycle-update-view-after",[i,n,s]))}},getComponent:function(t){var i=this.opts(),n=i[t];return"string"==typeof n?/^\s*[\>|\+|~]/.test(n)?i.container.find(n):e(n):n.jquery?n:e(n)},stackSlides:function(t,i,n){var s=this.opts();t||(t=s.slides[s.currSlide],i=s.slides[s.nextSlide],n=!s.reverse),e(t).css("zIndex",s.maxZ);var o,a=s.maxZ-2,r=s.slideCount;if(n){for(o=s.currSlide+1;r>o;o++)e(s.slides[o]).css("zIndex",a--);for(o=0;o<s.currSlide;o++)e(s.slides[o]).css("zIndex",a--)}else{for(o=s.currSlide-1;o>=0;o--)e(s.slides[o]).css("zIndex",a--);for(o=r-1;o>s.currSlide;o--)e(s.slides[o]).css("zIndex",a--)}e(i).css("zIndex",s.maxZ-1)},getSlideIndex:function(e){return this.opts().slides.index(e)}},e.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},e.fn.cycle.version=function(){return"Cycle2: "+i},e.fn.cycle.transitions={custom:{},none:{before:function(e,t,i,n){e.API.stackSlides(i,t,n),e.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(t,i,n,s){var o=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(i,n,s),t.cssBefore=e.extend(o,{opacity:0,visibility:"visible",display:"block"}),t.animIn={opacity:1},t.animOut={opacity:0}}},fadeout:{before:function(t,i,n,s){var o=t.API.getSlideOpts(t.nextSlide).slideCss||{};t.API.stackSlides(i,n,s),t.cssBefore=e.extend(o,{opacity:1,visibility:"visible",display:"block"}),t.animOut={opacity:0}}},scrollHorz:{before:function(e,t,i,n){e.API.stackSlides(t,i,n);var s=e.container.css("overflow","hidden").width();e.cssBefore={left:n?s:-s,top:0,opacity:1,visibility:"visible",display:"block"},e.cssAfter={zIndex:e._maxZ-2,left:0},e.animIn={left:0},e.animOut={left:n?-s:s}}}},e.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},e(document).ready(function(){e(e.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(e){"use strict";function t(t,n){var s,o,a,r=n.autoHeight;if("container"==r)o=e(n.slides[n.currSlide]).outerHeight(),n.container.height(o);else if(n._autoHeightRatio)n.container.height(n.container.width()/n._autoHeightRatio);else if("calc"===r||"number"==e.type(r)&&r>=0){if(a="calc"===r?i(t,n):r>=n.slides.length?0:r,a==n._sentinelIndex)return;n._sentinelIndex=a,n._sentinel&&n._sentinel.remove(),s=e(n.slides[a].cloneNode(!0)),s.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),s.css({position:"static",visibility:"hidden",display:"block"}).prependTo(n.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),s.find("*").css("visibility","hidden"),n._sentinel=s}}function i(t,i){var n=0,s=-1;return i.slides.each(function(t){var i=e(this).height();i>s&&(s=i,n=t)}),n}function n(t,i,n,s){var o=e(s).outerHeight();i.container.transition({height:o},i.autoHeightSpeed,i.autoHeightEasing)}function s(i,o){o._autoHeightOnResize&&(e(window).off("resize orientationchange",o._autoHeightOnResize),o._autoHeightOnResize=null),o.container.off("cycle-slide-added cycle-slide-removed",t),o.container.off("cycle-destroyed",s),o.container.off("cycle-before",n),o._sentinel&&(o._sentinel.remove(),o._sentinel=null)}e.extend(e.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),e(document).on("cycle-initialized",function(i,o){function a(){t(i,o)}var r,c=o.autoHeight,l=e.type(c),d=null;("string"===l||"number"===l)&&(o.container.on("cycle-slide-added cycle-slide-removed",t),o.container.on("cycle-destroyed",s),"container"==c?o.container.on("cycle-before",n):"string"===l&&/\d+\:\d+/.test(c)&&(r=c.match(/(\d+)\:(\d+)/),r=r[1]/r[2],o._autoHeightRatio=r),"number"!==l&&(o._autoHeightOnResize=function(){clearTimeout(d),d=setTimeout(a,50)},e(window).on("resize orientationchange",o._autoHeightOnResize)),setTimeout(a,30))})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),e(document).on("cycle-update-view",function(t,i,n,s){if("caption"===i.captionModule){e.each(["caption","overlay"],function(){var e=this,t=n[e+"Template"],o=i.API.getComponent(e);o.length&&t?(o.html(i.API.tmpl(t,n,i,s)),o.show()):o.hide()})}}),e(document).on("cycle-destroyed",function(t,i){var n;e.each(["caption","overlay"],function(){var e=this,t=i[e+"Template"];i[e]&&t&&(n=i.API.getComponent("caption"),n.empty())})})}(jQuery),function(e){"use strict";var t=e.fn.cycle;e.fn.cycle=function(i){var n,s,o,a=e.makeArray(arguments);return"number"==e.type(i)?this.cycle("goto",i):"string"==e.type(i)?this.each(function(){var r;return n=i,o=e(this).data("cycle.opts"),void 0===o?void t.log('slideshow must be initialized before sending commands; "'+n+'" ignored'):(n="goto"==n?"jump":n,s=o.API[n],e.isFunction(s)?(r=e.makeArray(a),r.shift(),s.apply(o.API,r)):void t.log("unknown command: ",n))}):t.apply(this,arguments)},e.extend(e.fn.cycle,t),e.extend(t.API,{next:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?-1:1;e.allowWrap===!1&&e.currSlide+t>=e.slideCount||(e.API.advanceSlide(t),e.API.trigger("cycle-next",[e]).log("cycle-next"))}},prev:function(){var e=this.opts();if(!e.busy||e.manualTrump){var t=e.reverse?1:-1;e.allowWrap===!1&&e.currSlide+t<0||(e.API.advanceSlide(t),e.API.trigger("cycle-prev",[e]).log("cycle-prev"))}},destroy:function(){this.stop();var t=this.opts(),i=e.isFunction(e._data)?e._data:e.noop;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stop(),t.API.trigger("cycle-destroyed",[t]).log("cycle-destroyed"),t.container.removeData(),i(t.container[0],"parsedAttrs",!1),t.retainStylesOnDestroy||(t.container.removeAttr("style"),t.slides.removeAttr("style"),t.slides.removeClass(t.slideActiveClass)),t.slides.each(function(){var n=e(this);n.removeData(),n.removeClass(t.slideClass),i(this,"parsedAttrs",!1)})},jump:function(e,t){var i,n=this.opts();if(!n.busy||n.manualTrump){var s=parseInt(e,10);if(isNaN(s)||0>s||s>=n.slides.length)return void n.API.log("goto: invalid slide index: "+s);if(s==n.currSlide)return void n.API.log("goto: skipping, already on slide",s);n.nextSlide=s,clearTimeout(n.timeoutId),n.timeoutId=0,n.API.log("goto: ",s," (zero-index)"),i=n.currSlide<n.nextSlide,n._tempFx=t,n.API.prepareTx(!0,i)}},stop:function(){var t=this.opts(),i=t.container;clearTimeout(t.timeoutId),t.timeoutId=0,t.API.stopTransition(),t.pauseOnHover&&(t.pauseOnHover!==!0&&(i=e(t.pauseOnHover)),i.off("mouseenter mouseleave")),t.API.trigger("cycle-stopped",[t]).log("cycle-stopped")},reinit:function(){var e=this.opts();e.API.destroy(),e.container.cycle()},remove:function(t){for(var i,n,s=this.opts(),o=[],a=1,r=0;r<s.slides.length;r++)i=s.slides[r],r==t?n=i:(o.push(i),e(i).data("cycle.opts").slideNum=a,a++);n&&(s.slides=e(o),s.slideCount--,e(n).remove(),t==s.currSlide?s.API.advanceSlide(1):t<s.currSlide?s.currSlide--:s.currSlide++,s.API.trigger("cycle-slide-removed",[s,t,n]).log("cycle-slide-removed"),s.API.updateView())}}),e(document).on("click.cycle","[data-cycle-cmd]",function(t){t.preventDefault();var i=e(this),n=i.data("cycle-cmd"),s=i.data("cycle-context")||".cycle-slideshow";e(s).cycle(n,i.data("cycle-arg"))})}(jQuery),function(e){"use strict";function t(t,i){var n;return t._hashFence?void(t._hashFence=!1):(n=window.location.hash.substring(1),void t.slides.each(function(s){if(e(this).data("cycle-hash")==n){if(i===!0)t.startingSlide=s;else{var o=t.currSlide<s;t.nextSlide=s,t.API.prepareTx(!0,o)}return!1}}))}e(document).on("cycle-pre-initialize",function(i,n){t(n,!0),n._onHashChange=function(){t(n,!1)},e(window).on("hashchange",n._onHashChange)}),e(document).on("cycle-update-view",function(e,t,i){i.hash&&"#"+i.hash!=window.location.hash&&(t._hashFence=!0,window.location.hash=i.hash)}),e(document).on("cycle-destroyed",function(t,i){i._onHashChange&&e(window).off("hashchange",i._onHashChange)})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{loader:!1}),e(document).on("cycle-bootstrap",function(t,i){function n(t,n){function o(t){var o;"wait"==i.loader?(r.push(t),0===l&&(r.sort(a),s.apply(i.API,[r,n]),i.container.removeClass("cycle-loading"))):(o=e(i.slides[i.currSlide]),s.apply(i.API,[t,n]),o.show(),i.container.removeClass("cycle-loading"))}function a(e,t){return e.data("index")-t.data("index")}var r=[];if("string"==e.type(t))t=e.trim(t);else if("array"===e.type(t))for(var c=0;c<t.length;c++)t[c]=e(t[c])[0];t=e(t);var l=t.length;l&&(t.css("visibility","hidden").appendTo("body").each(function(t){function a(){0===--c&&(--l,o(d))}var c=0,d=e(this),u=d.is("img")?d:d.find("img");return d.data("index",t),u=u.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),u.length?(c=u.length,void u.each(function(){this.complete?a():e(this).load(function(){a()}).on("error",function(){0===--c&&(i.API.log("slide skipped; img not loaded:",this.src),0===--l&&"wait"==i.loader&&s.apply(i.API,[r,n]))})})):(--l,void r.push(d))}),l&&i.container.addClass("cycle-loading"))}var s;i.loader&&(s=i.API.add,i.API.add=n)})}(jQuery),function(e){"use strict";function t(t,i,n){var s,o=t.API.getComponent("pager");o.each(function(){var o=e(this);if(i.pagerTemplate){var a=t.API.tmpl(i.pagerTemplate,i,t,n[0]);s=e(a).appendTo(o)}else s=o.children().eq(t.slideCount-1);s.on(t.pagerEvent,function(e){t.pagerEventBubble||e.preventDefault(),t.API.page(o,e.currentTarget)})})}function i(e,t){var i=this.opts();if(!i.busy||i.manualTrump){var n=e.children().index(t),s=n,o=i.currSlide<s;i.currSlide!=s&&(i.nextSlide=s,i._tempFx=i.pagerFx,i.API.prepareTx(!0,o),i.API.trigger("cycle-pager-activated",[i,e,t]))}}e.extend(e.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),e(document).on("cycle-bootstrap",function(e,i,n){n.buildPagerLink=t}),e(document).on("cycle-slide-added",function(e,t,n,s){t.pager&&(t.API.buildPagerLink(t,n,s),t.API.page=i)}),e(document).on("cycle-slide-removed",function(t,i,n){if(i.pager){var s=i.API.getComponent("pager");s.each(function(){var t=e(this);e(t.children()[n]).remove()})}}),e(document).on("cycle-update-view",function(t,i){var n;i.pager&&(n=i.API.getComponent("pager"),n.each(function(){e(this).children().removeClass(i.pagerActiveClass).eq(i.currSlide).addClass(i.pagerActiveClass)}))}),e(document).on("cycle-destroyed",function(e,t){var i=t.API.getComponent("pager");i&&(i.children().off(t.pagerEvent),t.pagerTemplate&&i.empty())})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),e(document).on("cycle-initialized",function(e,t){if(t.API.getComponent("next").on(t.nextEvent,function(e){e.preventDefault(),t.API.next()}),t.API.getComponent("prev").on(t.prevEvent,function(e){e.preventDefault(),t.API.prev()}),t.swipe){var i=t.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",n=t.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";t.container.on(i,function(){t._tempFx=t.swipeFx,t.API.next()}),t.container.on(n,function(){t._tempFx=t.swipeFx,t.API.prev()})}}),e(document).on("cycle-update-view",function(e,t){if(!t.allowWrap){var i=t.disabledClass,n=t.API.getComponent("next"),s=t.API.getComponent("prev"),o=t._prevBoundry||0,a=void 0!==t._nextBoundry?t._nextBoundry:t.slideCount-1;t.currSlide==a?n.addClass(i).prop("disabled",!0):n.removeClass(i).prop("disabled",!1),t.currSlide===o?s.addClass(i).prop("disabled",!0):s.removeClass(i).prop("disabled",!1)}}),e(document).on("cycle-destroyed",function(e,t){t.API.getComponent("prev").off(t.nextEvent),t.API.getComponent("next").off(t.prevEvent),t.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{progressive:!1}),e(document).on("cycle-pre-initialize",function(t,i){if(i.progressive){var n,s,o=i.API,a=o.next,r=o.prev,c=o.prepareTx,l=e.type(i.progressive);if("array"==l)n=i.progressive;else if(e.isFunction(i.progressive))n=i.progressive(i);else if("string"==l){if(s=e(i.progressive),n=e.trim(s.html()),!n)return;if(/^(\[)/.test(n))try{n=e.parseJSON(n)}catch(d){return void o.log("error parsing progressive slides",d)}else n=n.split(new RegExp(s.data("cycle-split")||"\n")),n[n.length-1]||n.pop()}c&&(o.prepareTx=function(e,t){var s,o;return e||0===n.length?void c.apply(i.API,[e,t]):void(t&&i.currSlide==i.slideCount-1?(o=n[0],n=n.slice(1),i.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.API.advanceSlide(1)},50)}),i.API.add(o)):t||0!==i.currSlide?c.apply(i.API,[e,t]):(s=n.length-1,o=n[s],n=n.slice(0,s),i.container.one("cycle-slide-added",function(e,t){setTimeout(function(){t.currSlide=1,t.API.advanceSlide(-1)},50)}),i.API.add(o,!0)))}),a&&(o.next=function(){var e=this.opts();if(n.length&&e.currSlide==e.slideCount-1){var t=n[0];n=n.slice(1),e.container.one("cycle-slide-added",function(e,t){a.apply(t.API),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(t)}else a.apply(e.API)}),r&&(o.prev=function(){var e=this.opts();if(n.length&&0===e.currSlide){var t=n.length-1,i=n[t];n=n.slice(0,t),e.container.one("cycle-slide-added",function(e,t){t.currSlide=1,t.API.advanceSlide(-1),t.container.removeClass("cycle-loading")}),e.container.addClass("cycle-loading"),e.API.add(i,!0)}else r.apply(e.API)})}})}(jQuery),function(e){"use strict";e.extend(e.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),e.extend(e.fn.cycle.API,{tmpl:function(t,i){var n=new RegExp(i.tmplRegex||e.fn.cycle.defaults.tmplRegex,"g"),s=e.makeArray(arguments);return s.shift(),t.replace(n,function(t,i){var n,o,a,r,c=i.split(".");for(n=0;n<s.length;n++)if(a=s[n]){if(c.length>1)for(r=a,o=0;o<c.length;o++)a=r,r=r[c[o]]||i;else r=a[i];if(e.isFunction(r))return r.apply(a,s);if(void 0!==r&&null!==r&&r!=i)return r}return i})}})}(jQuery),!function(e){"use strict";e.event.special.swipe=e.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var t=e(this);t.bind("touchstart",function(i){function n(t){if(a){var i=t.originalEvent.touches?t.originalEvent.touches[0]:t;s={time:(new Date).getTime(),coords:[i.pageX,i.pageY]},Math.abs(a.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}}var s,o=i.originalEvent.touches?i.originalEvent.touches[0]:i,a={time:(new Date).getTime(),coords:[o.pageX,o.pageY],origin:e(i.target)};t.bind("touchmove",n).one("touchend",function(){t.unbind("touchmove",n),a&&s&&s.time-a.time<e.event.special.swipe.durationThreshold&&Math.abs(a.coords[0]-s.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(a.coords[1]-s.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&a.origin.trigger("swipe").trigger(a.coords[0]>s.coords[0]?"swipeleft":"swiperight"),a=s=void 0})})}},e.event.special.swipeleft=e.event.special.swipeleft||{setup:function(){e(this).bind("swipe",e.noop)}},e.event.special.swiperight=e.event.special.swiperight||e.event.special.swipeleft}(jQuery),function(){for(var e,t=function(){},i=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],n=i.length,s=window.console=window.console||{};n--;)e=i[n],s[e]||(s[e]=t)}(),function(e){var t,i,n=e.event;t=n.special.debouncedresize={setup:function(){e(this).on("resize",t.handler)},teardown:function(){e(this).off("resize",t.handler)},handler:function(e,s){var o=this,a=arguments,r=function(){e.type="debouncedresize",n.dispatch.apply(o,a)};i&&clearTimeout(i),s?r():i=setTimeout(r,t.threshold)},threshold:150}}(jQuery),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(e){function t(e){if(e in u.style)return e;for(var t=["Moz","Webkit","O","ms"],i=e.charAt(0).toUpperCase()+e.substr(1),n=0;n<t.length;++n){var s=t[n]+i;if(s in u.style)return s}}function i(){return u.style[f.transform]="",u.style[f.transform]="rotateY(90deg)",""!==u.style[f.transform]}function n(e){return"string"==typeof e&&this.parse(e),this}function s(e,t,i){t===!0?e.queue(i):t?e.queue(t,i):e.each(function(){i.call(this)})}function o(t){var i=[];return e.each(t,function(t){t=e.camelCase(t),t=e.transit.propertyMap[t]||e.cssProps[t]||t,t=c(t),f[t]&&(t=c(f[t])),-1===e.inArray(t,i)&&i.push(t)}),i}function a(t,i,n,s){var a=o(t);e.cssEase[n]&&(n=e.cssEase[n]);var r=""+d(i)+" "+n;parseInt(s,10)>0&&(r+=" "+d(s));var c=[];return e.each(a,function(e,t){c.push(t+" "+r)}),c.join(", ")}function r(t,i){i||(e.cssNumber[t]=!0),e.transit.propertyMap[t]=f.transform,e.cssHooks[t]={get:function(i){var n=e(i).css("transit:transform");return n.get(t)},set:function(i,n){var s=e(i).css("transit:transform");s.setFromString(t,n),e(i).css({"transit:transform":s})}}}function c(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function l(e,t){return"string"!=typeof e||e.match(/^[\-0-9\.]+$/)?""+e+t:e;

}function d(t){var i=t;return"string"!=typeof i||i.match(/^[\-0-9\.]+/)||(i=e.fx.speeds[i]||e.fx.speeds._default),l(i,"ms")}e.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var u=document.createElement("div"),f={},p=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;f.transition=t("transition"),f.transitionDelay=t("transitionDelay"),f.transform=t("transform"),f.transformOrigin=t("transformOrigin"),f.filter=t("Filter"),f.transform3d=i();var h={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},v=f.transitionEnd=h[f.transition]||null;for(var m in f)f.hasOwnProperty(m)&&"undefined"==typeof e.support[m]&&(e.support[m]=f[m]);return u=null,e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new n},set:function(t,i){var s=i;s instanceof n||(s=new n(s)),t.style[f.transform]="WebkitTransform"!==f.transform||p?s.toString():s.toString(!0),e(t).data("transform",s)}},e.cssHooks.transform={set:e.cssHooks["transit:transform"].set},e.cssHooks.filter={get:function(e){return e.style[f.filter]},set:function(e,t){e.style[f.filter]=t}},e.fn.jquery<"1.8"&&(e.cssHooks.transformOrigin={get:function(e){return e.style[f.transformOrigin]},set:function(e,t){e.style[f.transformOrigin]=t}},e.cssHooks.transition={get:function(e){return e.style[f.transition]},set:function(e,t){e.style[f.transition]=t}}),r("scale"),r("scaleX"),r("scaleY"),r("translate"),r("rotate"),r("rotateX"),r("rotateY"),r("rotate3d"),r("perspective"),r("skewX"),r("skewY"),r("x",!0),r("y",!0),n.prototype={setFromString:function(e,t){var i="string"==typeof t?t.split(","):t.constructor===Array?t:[t];i.unshift(e),n.prototype.set.apply(this,i)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);this.setter[e]?this.setter[e].apply(this,t):this[e]=t.join(",")},get:function(e){return this.getter[e]?this.getter[e].apply(this):this[e]||0},setter:{rotate:function(e){this.rotate=l(e,"deg")},rotateX:function(e){this.rotateX=l(e,"deg")},rotateY:function(e){this.rotateY=l(e,"deg")},scale:function(e,t){void 0===t&&(t=e),this.scale=e+","+t},skewX:function(e){this.skewX=l(e,"deg")},skewY:function(e){this.skewY=l(e,"deg")},perspective:function(e){this.perspective=l(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==e&&void 0!==e&&(this._translateX=l(e,"px")),null!==t&&void 0!==t&&(this._translateY=l(t,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");return e[0]&&(e[0]=parseFloat(e[0])),e[1]&&(e[1]=parseFloat(e[1])),e[0]===e[1]?e[0]:e},rotate3d:function(){for(var e=(this.rotate3d||"0,0,0,0deg").split(","),t=0;3>=t;++t)e[t]&&(e[t]=parseFloat(e[t]));return e[3]&&(e[3]=l(e[3],"deg")),e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,i,n){t.setFromString(i,n)})},toString:function(e){var t=[];for(var i in this)if(this.hasOwnProperty(i)){if(!f.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&t.push(e&&"scale"===i?i+"3d("+this[i]+",1)":e&&"translate"===i?i+"3d("+this[i]+",0)":i+"("+this[i]+")")}return t.join(" ")}},e.fn.transition=e.fn.transit=function(t,i,n,o){var r=this,c=0,l=!0,u=e.extend(!0,{},t);"function"==typeof i&&(o=i,i=void 0),"object"==typeof i&&(n=i.easing,c=i.delay||0,l="undefined"==typeof i.queue?!0:i.queue,o=i.complete,i=i.duration),"function"==typeof n&&(o=n,n=void 0),"undefined"!=typeof u.easing&&(n=u.easing,delete u.easing),"undefined"!=typeof u.duration&&(i=u.duration,delete u.duration),"undefined"!=typeof u.complete&&(o=u.complete,delete u.complete),"undefined"!=typeof u.queue&&(l=u.queue,delete u.queue),"undefined"!=typeof u.delay&&(c=u.delay,delete u.delay),"undefined"==typeof i&&(i=e.fx.speeds._default),"undefined"==typeof n&&(n=e.cssEase._default),i=d(i);var p=a(u,i,n,c),h=e.transit.enabled&&f.transition,m=h?parseInt(i,10)+parseInt(c,10):0;if(0===m){var g=function(e){r.css(u),o&&o.apply(r),e&&e()};return s(r,l,g),r}var y={},w=function(t){var i=!1,n=function(){i&&r.unbind(v,n),m>0&&r.each(function(){this.style[f.transition]=y[this]||null}),"function"==typeof o&&o.apply(r),"function"==typeof t&&t()};m>0&&v&&e.transit.useTransitionEnd?(i=!0,r.bind(v,n)):window.setTimeout(n,m),r.each(function(){m>0&&(this.style[f.transition]=p),e(this).css(u)})},b=function(e){this.offsetWidth,w(e)};return s(r,l,b),this},e.transit.getTransitionValue=a,e}),function(e){"use strict";e.fn.fitVids=function(t){var i={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var n=document.head||document.getElementsByTagName("head")[0],s=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",o=document.createElement("div");o.innerHTML='<p>x</p><style id="fit-vids-style">'+s+"</style>",n.appendChild(o.childNodes[1])}return t&&e.extend(i,t),this.each(function(){var t=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];i.customSelector&&t.push(i.customSelector);var n=".fitvidsignore";i.ignore&&(n=n+", "+i.ignore);var s=e(this).find(t.join(","));s=s.not("object object"),s=s.not(n),s.each(function(t){var i=e(this);if(!(i.parents(n).length>0||"embed"===this.tagName.toLowerCase()&&i.parent("object").length||i.parent(".fluid-width-video-wrapper").length)){i.css("height")||i.css("width")||!isNaN(i.attr("height"))&&!isNaN(i.attr("width"))||(i.attr("height",9),i.attr("width",16));var s="object"===this.tagName.toLowerCase()||i.attr("height")&&!isNaN(parseInt(i.attr("height"),10))?parseInt(i.attr("height"),10):i.height(),o=isNaN(parseInt(i.attr("width"),10))?i.width():parseInt(i.attr("width"),10),a=s/o;if(!i.attr("id")){var r="fitvid"+t;i.attr("id",r)}i.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*a+"%"),i.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(e,t){e.lazySizes=t(e,e.document),"function"==typeof define&&define.amd&&define(e.lazySizes)}(window,function(e,t){"use strict";if(t.getElementsByClassName){var i,n=t.documentElement,s=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],a=function(e,t){var i=new RegExp("(\\s|^)"+t+"(\\s|$)");return e.className.match(i)&&i},r=function(e,t){a(e,t)||(e.className+=" "+t)},c=function(e,t){var i;(i=a(e,t))&&(e.className=e.className.replace(i," "))},l=function(e,t,i){var n=i?"addEventListener":"removeEventListener";i&&l(e,t),o.forEach(function(i){e[n](i,t)})},d=function(e,i,n,s,o){var a=t.createEvent("Event");return a.initEvent(i,!s,!o),a.details=n||{},e.dispatchEvent(a),a},u=function(t,n){var s;e.HTMLPictureElement||((s=e.picturefill||e.respimage||i.polyfill)?s({reevaluate:!0,reparse:!0,elements:[t]}):n&&n.src&&(t.src=n.src))},f=function(e,t){return getComputedStyle(e,null)[t]},p=function(e,t){for(var n=e.offsetWidth;n<i.minSize&&t&&!e._lazysizesWidth;)n=t.offsetWidth,t=t.parentNode;return n},h=function(e){var i,n,s=function(){i&&(i=!1,e())},o=function(){clearInterval(n),t.hidden||(s(),n=setInterval(s,51))};return t.addEventListener("visibilitychange",o),o(),function(e){i=!0,e===!0&&s()}},v=function(){var o,p,g,y,w,b,A,C,x,I,$,S=e.HTMLPictureElement&&navigator.userAgent.match(/hrome\/(\d+)/)&&40==RegExp.$1,P=/^img$/i,T=/^iframe$/i,z="onscroll"in e,k=-2,E=k,_=k,O=k,j=0,M=0,N=0,F=function(e){M--,e&&e.target&&l(e.target,F),(!e||0>M||!e.target)&&(M=0)},D=function(e,t){var i,n=e,s="hidden"!=f(e,"visibility");for(C-=t,$+=t,x-=t,I+=t;s&&(n=n.offsetParent);)s=y&&2>M||(f(n,"opacity")||1)>0,s&&"visible"!=f(n,"overflow")&&(i=n.getBoundingClientRect(),s=I>i.left-1&&x<i.right+1&&$>i.top-1&&C<i.bottom+1);return s},H=function(){var e,t,n,s,a,r,c,l,d,u=p.length;if(u&&v.m){for(t=Date.now(),o||B(),e=N;u>e;e++,N++)if(p[e]&&!p[e]._lazyRace)if(z){if((l=p[e].getAttribute("data-expand"))&&(r=1*l)||(r=O),!(M>6&&(!l||"src"in p[e])))if(r>k&&(v.m<2||M>3)&&(r=k),d!==r&&(b=innerWidth+r,A=innerHeight+r,c=-1*r,d=r),n=p[e].getBoundingClientRect(),($=n.bottom)>=c&&(C=n.top)<=A&&(I=n.right)>=c&&(x=n.left)<=b&&($||I||x||C)&&(y&&_>O&&3>M&&4>j&&!l||D(p[e],r)))N--,t+=2,Q(p[e]),a=!0;else{if(Date.now()-t>3)return N++,void L();!a&&y&&!s&&3>M&&4>j&&(g[0]||i.preloadAfterLoad)&&(g[0]||!l&&($||I||x||C||"auto"!=p[e].getAttribute(i.sizesAttr)))&&(s=g[0]||p[e])}}else Q(p[e]);N=0,j++,_>O&&2>M&&j>5&&v.m>2?(O=_,j=0,L()):O=O!=E&&v.m>1&&j>4?E:k,s&&!a&&Q(s)}},L=h(H),q=function(e){r(e.target,i.loadedClass),c(e.target,i.loadingClass),l(e.target,q)},R=function(e,t){try{e.contentWindow.location.replace(t)}catch(i){e.setAttribute("src",t)}},Q=function(e,t){var n,o,f,p,h,v,g,b,A,C,x,I=e.currentSrc||e.src,$=P.test(e.nodeName),z=e.getAttribute(i.sizesAttr)||e.getAttribute("sizes"),k="auto"==z;if(!k&&y||!$||!I||e.complete||a(e,i.errorClass)){if(e._lazyRace=!0,!(A=d(e,"lazybeforeunveil",{force:!!t})).defaultPrevented){if(z&&(k?m.updateElem(e,!0):e.setAttribute("sizes",z)),v=e.getAttribute(i.srcsetAttr),h=e.getAttribute(i.srcAttr),$&&(g=e.parentNode,b=s.test(g.nodeName||"")),C=A.details.firesLoad||"src"in e&&(v||h||b),C&&(M++,l(e,F,!0),clearTimeout(w),w=setTimeout(F,3e3)),b)for(n=g.getElementsByTagName("source"),o=0,f=n.length;f>o;o++)(x=i.customMedia[n[o].getAttribute("data-media")||n[o].getAttribute("media")])&&n[o].setAttribute("media",x),p=n[o].getAttribute(i.srcsetAttr),p&&n[o].setAttribute("srcset",p);v?(e.setAttribute("srcset",v),S&&z&&e.removeAttribute("src")):h&&(T.test(e.nodeName)?R(e,h):e.setAttribute("src",h)),r(e,i.loadingClass),l(e,q,!0)}setTimeout(function(){e._lazyRace&&delete e._lazyRace,"auto"==z&&r(e,i.autosizesClass),(v||b)&&u(e,{src:h}),c(e,i.lazyClass),(!C||e.complete&&I==(e.currentSrc||e.src))&&(C&&F(A),q(A)),e=null})}},B=function(){o||(E=Math.max(Math.min(i.expand||140,300),9),_=4*E),o=!0},W=function(){v.m=3},V=function(){y=!0,W(),L(!0)};return{_i:function(){p=t.getElementsByClassName(i.lazyClass),g=t.getElementsByClassName(i.lazyClass+" "+i.preloadClass),i.scroll&&addEventListener("scroll",L,!0),addEventListener("resize",function(){o=!1,L()},!0),e.MutationObserver?new MutationObserver(L).observe(n,{childList:!0,subtree:!0,attributes:!0}):(n.addEventListener("DOMNodeInserted",L,!0),n.addEventListener("DOMAttrModified",L,!0),setInterval(L,3e3)),addEventListener("hashchange",L,!0),["transitionstart","transitionend","load","focus","mouseover","animationend","click"].forEach(function(e){t.addEventListener(e,L,!0)}),(y=/d$|^c/.test(t.readyState))||(addEventListener("load",V),t.addEventListener("DOMContentLoaded",L)),setTimeout(W,777),L(p.length>0)},m:1,checkElems:L,unveil:Q}}(),m=function(){var e,n=function(e,t){var i,n,o,a,r,c=e.parentNode;if(c&&(i=p(e,c),r=d(e,"lazybeforesizes",{width:i,dataAttr:!!t}),!r.defaultPrevented&&(i=r.details.width,i&&i!==e._lazysizesWidth))){if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),s.test(c.nodeName||""))for(n=c.getElementsByTagName("source"),o=0,a=n.length;a>o;o++)n[o].setAttribute("sizes",i);r.details.dataAttr||u(e,r.details)}},o=function(){var t,i=e.length;if(i)for(t=0;i>t;t++)n(e[t])},a=h(o);return{_i:function(){e=t.getElementsByClassName(i.autosizesClass),addEventListener("resize",a)},checkElems:a,updateElem:n}}(),g=function(){g.i||(g.i=!0,m._i(),v._i())};return function(){var t,n={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",scroll:!0,autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:50,customMedia:{},init:!0};i=e.lazySizesConfig||{};for(t in n)t in i||(i[t]=n[t]);e.lazySizesConfig=i,setTimeout(function(){i.init&&g()})}(),{cfg:i,autoSizer:m,loader:v,init:g,uP:u,aC:r,rC:c,hC:a,fire:d,gW:p}}}),transitionEnd=whichTransitionEvent(),animationEnd=whichAnimationEvent(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i}}),window.onload=function(){/iP(hone|ad)/.test(window.navigator.userAgent)&&document.body.addEventListener("touchstart",function(){},!1)},!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){var t=e.event.dispatch||e.event.handle,i=e.event.special,n="D"+ +new Date,s="D"+(+new Date+1);i.scrollstart={setup:function(s){var o,a=e.extend({latency:i.scrollstop.latency},s),r=function(e){var i=this,n=arguments;o?clearTimeout(o):(e.type="scrollstart",t.apply(i,n)),o=setTimeout(function(){o=null},a.latency)};e(this).bind("scroll",r).data(n,r)},teardown:function(){e(this).unbind("scroll",e(this).data(n))}},i.scrollstop={latency:250,setup:function(n){var o,a=e.extend({latency:i.scrollstop.latency},n),r=function(e){var i=this,n=arguments;o&&clearTimeout(o),o=setTimeout(function(){o=null,e.type="scrollstop",t.apply(i,n)},a.latency)};e(this).bind("scroll",r).data(s,r)},teardown:function(){e(this).unbind("scroll",e(this).data(s))}}}),Function.prototype.debounce=function(e,t){var i=this,n=null,s=e;return function(){function e(){i.apply(o,a),n=null}var o=t||this,a=arguments;n&&clearTimeout(n),n=setTimeout(e,s)}},$(document).ready(function(){function e(e){function t(){window.setTimeout(function(){$(document).trigger("showpage")},2e3)}($("img").length<1||e)&&t()}function t(e){var t=$('<base href="'+e+'">');$("head").append(t),history.pushState(null,null,e)}function i(){$(".site-title").off(transitionEnd),E(),$(".menu-wrapper").removeAttr("style"),("about"==R.sectionID||"contact"==R.sectionID)&&g(),D.addClass("active"),$("body").addClass("menu")}function n(){null==R.sectionID&&$(".site-title").on(transitionEnd,function(e){"padding-bottom"==e.originalEvent.propertyName&&($("#container").addClass("cycle-active"),$(this).off(transitionEnd).trigger("cycle-activate"))}),D.removeClass("active"),$("body").removeClass("menu"),("about"==R.sectionID||"contact"==R.sectionID)&&p()}function s(){function e(e,t){var i="slide-video-";thisVideo=$(e).attr("id").substr(i.length),U.hasOwnProperty(thisVideo)&&U[thisVideo].api(t)}function t(e,t){var i=e.find("img").data("video"),n=s+"-video-"+t,o=$('<figure id="slide-video-'+n+'" class="video">'+G+"</figure>");return $.ajax({url:"https://vimeo.com/api/oembed.json?url="+i+"&api=true&player_id="+n+"&title=false&portrait=false&byline=false",success:function(e){var i=($(".slideshow-wrapper").find("#slide-video-"+t),$(e.html).wrap('<div class="lazyload center"></div>').parent().fitVids().appendTo(o).addClass("active").find("iframe").attr("id",n)[0]),s=$f(i);s.addEvent("ready",function(){U[n]=s,o.find(".video-spinner").attr("class","video-spinner").on(transitionEnd,function(){$(this).remove()})})}}),o}function i(e,t){return imgClasses=e.attr("class").split(/\s+/),slidefig='<figure id="slide-image-'+t+'" class="image"><div class="vertical-center"></div></figure>',e=e.clone().off("click").find("img").data("classes",imgClasses).removeAttr("srcset").attr("sizes","100vw").removeClass().addClass("lazyload"),$(slidefig).find("div").append(e).parent()}function n(){a.removeClass("active"),$(".cycle-slide-active.video").length>0&&e($(".cycle-slide-active")[0],"pause"),$(".slidesshow-wrapper").removeClass("cursor-move cursor-move-down cursor-move-up");var t=a.find(".cycle-slide-active img"),i=t.css("transform");t.attr("style",i),$(window).trigger("debouncedresize")}var s=$("article.content").data("name")+"-slideshow",o=[];$.each($(".grid figure"),function(e){$(this).data("slideindex",e),slide=$(this).hasClass("video")?t($(this),e):i($(this),e),o[e]=slide}),K.hasOwnProperty(s)||$(J).attr("id",s).prependTo("body").append(o).cycle({slides:"figure",startingSlide:0,swipe:!0,log:!1,next:".slideshow-paging .next-button",prev:".slideshow-paging .back-button",paused:!0,manualSpeed:200});var a=$("#"+s);K[s]=$("#"+s),$("article.project .grid").on("click","figure",function(e){var t=a.data("cycle.opts"),i=$(e.currentTarget).data("slideindex");i!=t.currSlide?a.cycle("goto",i).on("cycle-after",function(){$(this).addClass("active")}):a.trigger("cycle-show",[t,null,t.slides[t.currSlide]]).addClass("active"),$("body").addClass("slideshow")}),a.on("cycle-after cycle-show",function(t,i,n,s){var o=t.type;if("cycle-after"==o&&$(n).hasClass("image")?($(window).off("mousemove"),$(n).off("hoverspeed").find("img").css({top:"0","-webkit-transition-duration":"0","transition-duration":"0",cursor:"auto"})):"cycle-after"==o&&$(n).hasClass("video")&&e(n,"pause"),$(s).hasClass("image")){var a=$(s).find("img"),r=0,c=0,l=0,d=0,u=3,f=.67,p=0;a.css({"transition-duration":"0.33s"}),r=$(window).height(),c=a.height(),l=c-r,$(window).on("mousemove",function(e){if(c>r){var t=e.clientY,i=r/2,n=Math.round((t-i)/i*u)/u;n!=d&&(d=n,$(s).trigger("hoverspeed",[d]))}else a.removeAttr("style")}).trigger("mousemove"),$(s).on("hoverspeed",function(e,t){switch(!0){case 0>t:p=f/Math.sin(-1*t),a.css({transform:"translate3d(0,"+l/2+"px,0)","transition-duration":p+"s"}),$(".slideshow-wrapper").addClass("cursor-move-up").removeClass("cursor-move-down cursor-move");break;case t>0:p=f/Math.sin(t),a.css({transform:"translate3d(0,"+l/2*-1+"px,0)","transition-duration":p+"s"}),$(".slideshow-wrapper").addClass("cursor-move-down").removeClass("cursor-move-up cursor-move");break;default:a.css({transform:a.css("transform"),"transition-duration":"0"}),$(".slideshow-wrapper").addClass("cursor-move").removeClass("cursor-move-up cursor-move-down")}})}else e(s,"play")}),$(document).on("click",".slideshow-close a",function(e){n(),e.preventDefault()}),$(document).keyup(function(e){27==e.keyCode&&n()})}function o(){$("article.project .grid").off("click")}function a(){var e=$(".project .grid");$.each(ee,function(){toPair=[],$("body").hasClass(this.project)&&($.each(this.pairs,function(){var t={};t.el=[e.children().eq(this[0]).removeClass("width1"),e.children().eq(this[1]).removeClass("width1")];var i=0;$.each(t.el,function(){classes=this.attr("class");var e="height",t=classes.substring(classes.indexOf(e));i=parseInt(t.substring(e.length))+i}),t.wrapper='<div class="box width1 height'+i+' pair"></div></div>',toPair.push(t)}),$.each(toPair,function(){$(this.el[0][0]).add(this.el[1][0]).wrapAll(this.wrapper)}))})}function r(){ne.go=!0;var e=te/ne.e;ne.header.css({"transition-delay":"0",transition:"none",transform:"translate3d(0, "+Math.max(ne.o*e,ne.o)+"px, 0)",opacity:1-3*e})}function c(){ne.go&&(ne.go=!1,ne.header.css({transform:"translate3d("+ne.o+"px)"}),cancelAnimationFrame(Z))}function l(){oe.go||$("section.images .grid").removeClass("hover-fade"),oe.go=!0;var e=te/oe.e,t=-1*oe.o;oe.client.css({transform:"translate3d(0,"+Math.max(t,t*e)+"px,0)",opacity:1-e}),oe.title.css({transform:"translate3d(0,"+Math.max(t,t*e*1.5)+"px,0)",opacity:1-1.5*e}),oe.img.css({transform:"translate3d(0,"+100*e*-1+"px, 0)"}),oe.img.find(".pad").css("opacity",1-.75*e)}function d(){oe.go&&(oe.go=!1,oe.client.css({transform:"translate3d(0,"+-1*oe.o+"px,0)",opacity:0}),oe.title.css({transform:"translate3d(0,"+-1*oe.o*1.5+"px,0)",opacity:0}),oe.img.css({transform:"translate3d(0, -100px, 0)"}),oe.img.find(".pad").css("opacity",.25),cancelAnimationFrame(X),$("section.images .grid").addClass("hover-fade"))}function u(){re.go=!0;var e=(te-re.s)/re.e,t=-1*re.o+re.o*e;re.client.css({transform:"translate3d(0,"+Math.min(t,0)+"px,0)",opacity:Math.min(1,1.5*e)}),re.title.css({transform:"translate3d(0,"+Math.min(1.33*t,0)+"px,0)",opacity:Math.min(1,e)})}function f(){re.go&&(re.go=!1,re.client.css({transform:"translate3d(0,"+-1*re.o+"px,0)",opacity:0}),re.title.css({transform:"translate3d(0,"+-1*re.o+"px,0)",opacity:0}),cancelAnimationFrame(Y))}function p(){function e(){$("body").scrollTop()>0&&N.stop().animate({scrollTop:0},667,"easeOutCirc")}setTimeout(e,300),$(".menu-wrapper").children().on(transitionEnd,function(e){e.stopPropagation()}).parent().on(transitionEnd,function(e){var t=e.originalEvent.propertyName;("transform"==t||"-webkit-transform"==t||"-ms-transform"==t)&&(v(),$(this).off(transitionEnd))})}function h(){if(te=$(this).scrollTop(),Modernizr.touchevents){oe.init();var e=!1,t=oe.client.add(oe.title).add(oe.img),i=oe.img.height();$(window).on("scroll",function(){te=$(this).scrollTop(),te>i/2&&!e?(t.addClass("touchanim hide").removeClass("show"),e=!0):i/2>=te&&e&&(t.addClass("show").removeClass("hide"),e=!1)})}else X=requestAnimationFrame(l),Y=requestAnimationFrame(u),$(window).on("scroll",function(){te=$(this).scrollTop(),te<=oe.e?X=requestAnimationFrame(l):oe.go&&(X=requestAnimationFrame(d)),te>re.s?Y=requestAnimationFrame(u):re.go&&re.ok&&(Y=requestAnimationFrame(f))})}function v(){ne.init();$(window).on("scroll",function(){te=$(this).scrollTop(),Z=requestAnimationFrame(te>0&&te<=ne.e&&ne.ok?r:c)})}function m(){$(window).off("scroll scrollstart"),X=null,Y=null,oe=clone(se),re=clone(ae)}function g(){$(window).off("scroll"),Z=null,ne=clone(ie)}function y(){q=$("section.cycle"),ce=q.find("> a").each(function(e){$(this).data("slideindex",e)}),ue=q.clone().attr("id","cycle-auto-holder").addClass("filter").appendTo(".content").cycle(le);$('<div class="fade"/>').appendTo("#cycle-scroll-holder");fe.reset(),fe.wsize(ce.length),fe.section=0,window.scrollTo(0,0);var e=!0;$(window).on("cycle-activate",function(){$("html:hover").length>0?w():A(),$("#container").addClass("cycle-active"),e=!1})}function w(){null!=q&&(T(ce[fe.section],!0),$("#container").addClass("cycle-scroll"),_(),b())}function b(){var e=!0;$(window).one("mousemove scrollstart",function(){e=!1}),de=window.setTimeout(function(){e&&!$("body").hasClass("menu")?A():b()},4e3)}function A(){$(window).off("scroll scrollstop scrollstart mousemove"),ue.cycle("goto",fe.section),$("#container").removeClass("cycle-scroll"),ce.removeClass("cycle-slide-hidden cycle-slide-visible"),ue.cycle("resume"),C()}function C(){$(window).on("mousemove scrollstart",function(){$(this).off("mousemove scrollstart"),ue.cycle("pause");var e=ue.data("cycle.opts").currSlide;fe.section=e,scrollto=fe.section*fe.h,window.scrollTo(0,scrollto),w()})}function x(){fe.frame(te);var e;fe.o>0?(e=1,I(-1),P(),S(1,"bottom"),fe.pa!=fe.a&&T(ce[fe.section],!0)):(e=-1,I(1),P(),S(-1,"top"),fe.pa!=fe.a&&T(ce[fe.section],!1)),fe.section!=fe.psection&&(fe.psection=fe.section),fe.pscroll=te,fe.pa=fe.a}function I(e){var t=50*fe.c*e;$(ce[fe.section]).find("figure").css("transform","translate3d(0,"+t+"%,0)")}function S(e,t){if("bottom"==t)var i=-25*fe.c+75;else var i=25*fe.c-75;$(ce[fe.section+e]).find("figure").css("transform","translate3d(0 ,"+i+"%, 0)")}function P(){$(".fade").css("opacity",1-fe.c)}function T(e,t,i){var n=fe.a;switch($(e).removeClass("cycle-slide-visible cycle-slide-hidden").addClass("cycle-slide-active"),!0){case i&&n>0:poop=$(ce[0]).removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(e);break;case 0>n&&0==$(e).data("slideindex"):poop=$(ce[ce.length-1]).addClass("cycle-slide-visible").add(e);break;case t&&n>=0:poop=$(e).next("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(e);break;case t&&0>n:poop=$(e).prev("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(e);break;case!t&&0>n:poop=$(e).prev("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(e);break;case!t&&n>=0:poop=$(e).next("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(e)}$(ce).not(poop).removeClass("cycle-slide-visible cycle-slide-active").addClass("cycle-slide-hidden")}function z(){null!=q&&null!=ue&&(k(),ue.cycle("destroy"),$("#container").removeClass("cycle-active cycle-scroll cycle-auto-transition"),ue=null,q=null,ce=null,pe=null,fe.reset())}function k(){ue.cycle("pause"),$("#container").removeClass("cycle-active"),window.clearTimeout(de),$(window).off("scroll scrollstop scrollstart mousemove"),window.clearTimeout(de),de=null}function E(){null!=ue&&null!=q&&k()}function _(){function e(){$(window).off("scrollstop"),N.stop().animate({scrollTop:fe.h*fe.section},333,function(){$pagerActive=$(t[fe.section]),$pagerActive.hasClass("cycle-pager-active")||$pagerActive.addClass("cycle-pager-active").siblings().removeClass("cycle-pager-active"),$(window).on("scrollstop",{latency:333},function(){e()})})}var t=$(".cycle-pager").children();$(window).on("scroll",function(){te=$(this).scrollTop(),null!=q&&(pe=requestAnimationFrame(x))}).trigger("scroll").on("scrollstop",{latency:333},function(){e()})}function O(){if(Modernizr.cssfilters&&!$("body.home").length>0&&!$("body.slideshow").length>0){var e=!0;$(window).on("mousemove scrollstart click",function(t){console.log(t),$(window).off("mousemove scrollstart click"),e=!1}),ge=window.setTimeout(function(){e&&$("body.slideshow").length<1?j():O()},6e3)}}function j(){window.clearTimeout(ge);var e=$("#container"),t=e.clone().addClass("filtered");t.find(".content-wrapper").addClass("filter"),e.length<2&&(t.insertAfter(e),e.addClass("unfiltered fade"),$(window).one("mousemove scroll click",function(){$(window).off("mousemove scrollstart click"),e.removeClass("fade").one(transitionEnd,function(){$(this).removeClass("unfiltered"),$(".filtered").remove(),O()})}))}{var M=function(){},N=$("body, html"),F=".menu-wrapper , .content-wrapper",D=$(".menu-container"),H=($(".menu-wrapper a"),$(".menu-button a")),L=$(".site-title a"),q=null;$("body[data-uri-stem]").length>0?$("body").data("uri-stem"):"/"}e(),$(document).on("showpage",function(){$("#container").addClass("active"),$(window).trigger("cycle-activate"),$(".site-title a").removeAttr("style")});var R={page:null,caller:!1,activeLink:null,sub:!1,locate:function(e,i,n){t(e),$(F).find("a.active").removeClass("active"),this.page=e,this.caller=i,this.getSection(e),(n=n||M)()},getSection:function(e){secs=$(".site-links a").map(function(){return $(this).attr("href").replace(/\//g,"\\/")}).get().join("|"),patt=new RegExp("("+secs+")(?=\\/|$)","g");var t=e.match(patt);null==t?(this.sectionID=null,this.activeLink=$('a[href="'+e+'"]').addClass("active")):(t=t[0],this.sectionID=t.replace(/\/|henryproudlove/g,""),this.sub=e==t||e==t+"/"?!1:!0,this.activeLink=$('a[href="'+t+'"]').addClass("active"))},isCaseStudy:function(){return"work"==this.sectionID&&1==this.sub?!0:!1},exit:function(e){window.clearTimeout(de),window.clearTimeout(ge),de=null,$(".menu-wrapper").removeAttr("style");var t=this.sectionID,i=this.isCaseStudy();i?(o(),m()):"about"==t||"contact"==t?g():null==t&&z(),(e=e||M)()},enter:function(){var e=this.sectionID,t=this.isCaseStudy();t?(s(),h(),a()):("about"==e||"contact"==e?p():null==e&&(y(),titleStrokeIn()),V.down()),$(window).trigger("debouncedresize"),V.up(),O()}};$(document).on("navChange",function(e,t,i){E(),W.init(t,i),$(i).hasClass("menu-wrapper")&&D.add(H).toggleClass("active")}),$(F).on("click",'a:not([href^="http://"])',function(e){var t=$(this).attr("href"),i=R.page;t!=i&&$(document).trigger("navChange",[t,e.delegateTarget]),e.preventDefault()});var Q="state"in window.history&&null!==window.history.state,B=location.href;$(window).on("popstate",function(){var e=!Q&&location.href==B;Q=!0,e||$(document).trigger("navChange",[window.location.pathname,"back-forward"])});var W={init:function(e,t){$.ajax({url:e,dataType:"html",beforeSend:function(){$("#container").addClass("transition"),W.loaderUp()},success:function(i){$(".content").addClass("outgoing");var n=$(".content",$.parseHTML(i));n.addClass("incoming").appendTo(".content-wrapper"),$(".outgoing").children().on(transitionEnd,function(e){e.stopPropagation()}).parent().one(transitionEnd,function(){R.exit(function(){R.locate(e,t,function(){R.isCaseStudy()?$("body").attr("class",n.data("name")+" project"):$("body").attr("class",n.data("name")),$(".outgoing").remove(),window.scrollTo(0,0),$("#container").removeClass("transition"),n.removeClass("incoming").one(transitionEnd,function(){$(window).trigger("cycle-activate")}),R.enter()})})})},error:function(){$('<div class="error"><div class="error-text">Sorry! Something went wrong :(</div></div>').appendTo("#container").on(animationEnd,function(){$(this).remove()}),$("#container").removeClass("transition").one(transitionEnd,function(){$(window).trigger("cycle-stage")})}})},loader:$(".loader"),loaderInit:!1,loaderUp:function(){this.loaderInit?this.loader.addClass("active").removeClass("stop"):(this.loader.addClass("active").removeClass("stop"),this.loaderInit=!0)}},V={el:$('<nav class="back-button-holder"><a class="back-button" href="#"><span class="fg-color trans">Back</span></a></nav>'),target:null,appended:!1,getTarget:function(){return $(".site-links a.active").attr("href")},up:function(){switch(!0){case R.isCaseStudy()&&!this.appended:this.el.find("a").addClass("active"),this.el.appendTo(".main-header"),this.appended=!0;break;case R.isCaseStudy():this.el.find("a").addClass("active");break;default:this.el.find("a").removeClass("active")}},down:function(){}};V.el.on("click",function(e){url=V.getTarget(),$(document).trigger("navChange",[url,e.target]),e.preventDefault()}),H.click(function(e){$(this).removeClass("active").siblings().addClass("active"),$(this).is(":first-child")?i():n(),e.preventDefault()}),$(window).on("keyup",function(e){27==e.keyCode&&$("body").hasClass("menu")?(H.filter(".active").removeClass("active").siblings().addClass("active"),n()):13!=e.keyCode||$("body").hasClass("menu")||(H.filter(".active").removeClass("active").siblings().addClass("active"),i())});var X,Y,Z,U={},J='<section class="slideshow-wrapper">							<nav class="slideshow-paging">								<div class="back-button-holder">									<a href="#" class="back-button active"><span class="fg-color trans">Next Image</span></a>								</div>								<div class="next-button-holder">									<a href="#" class="next-button active"><span class="fg-color trans">Previous Image</span></a>								</div>							</nav>							<nav class="slideshow-close">								<a href="#" class="active">									<span class="close">Close										<span class="first bar fg-color"></span>										<span class="second bar fg-color"></span>									</span>								</a>							</nav>						</section>',G='<svg version="1.1" class="video-spinner fg-color active trans" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"		 viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">		 <g id="spinner-holder" transform="translate(20,20)">			<g id="spinner">				<g id="spinner-left">					<path d="M0-17.3V-20c-11.1,0-20,8.9-20,20h2.7C-17.3-9.5-9.6-17.3,0-17.3z"/>				</g>				<g id="spinner-right">					<path d="M20,0h-2.7c0,9.6-7.8,17.3-17.3,17.3V20C11.1,20,20,11,20,0z"/>				</g>			</g>		</g>	</svg>',K={},ee=[{
project:"design-in-china",pairs:[[1,2],[5,6]]},{project:"huawei",pairs:[[2,3],[4,5]]}],te=0,ie={ok:!1,go:!0,init:function(){var e=$(".content").height(),t=$(window).height();$("article.about, article.contact").length>0&&e>t&&(this.header=$(".menu-wrapper"),this.h=this.header.height(),this.d=e-t,this.o=-1*this.h,this.e=this.header.offset().top+this.h,this.ok=!0)},reset:function(){var e=this.init,t=this.reset;ne={ok:!1,go:!0,init:e,reset:t}}},ne=clone(ie),se={ok:!1,go:!0,init:function(){$("article.project").length>0&&(this.img=$("section.images > figure"),this.header=$("article.project > header"),this.client=this.header.find("h1"),this.title=this.header.find("h2"),this.d=this.img.height(),this.o=this.client.height(),this.e=this.img.height(),Modernizr.touchevents||this.client.add(L).add(this.title).css("transform","translate3d(0, 0, 0)"),this.img.css("background-color","#222"),this.ok=!0)}},oe=clone(se),ae={ok:!1,go:!0,init:function(){if($("article.project").length>0){this.wh=$(window).height(),this.header=$("section.text header"),this.client=this.header.find("h1"),this.title=this.header.find("h2"),this.o=60,this.s=this.header.offset().top-this.wh;var e=Math.min($(document).height()-this.wh,$("section.text").offset().top);this.e=e-this.s,this.ok=!0,Modernizr.touchevents||(style={transform:"translate3d(0,"+this.o+"px,0)",opacity:0},this.client.css(style),this.title.css(style))}}},re=clone(ae);$(window).on("debouncedresize",function(){ne.init(),oe.init(),re.init()});var ce,le={speed:1e3,manualSpeed:1,slides:"> a",loader:!0,pager:".cycle-pager",log:!1,startingSlide:0,paused:!0},de=null,ue=null,fe={w:$(window).height(),h:this.w/4,shift:this.w/2,pager:$(".cycle-pager"),wsize:function(e){this.w=$(window).height(),this.h=this.w/4,this.shift=this.w/2,$(".content").height(this.h*e+(this.w-this.h)),this.slideCount=e},frame:function(e){this.section=Math.round(e/this.h),this.o=2*(e/this.h-this.section),curve=Math.pow(Math.abs(this.o),6),this.c=curve<.1?0:curve,this.speed=Math.abs(e-this.pscroll),this.a=this.o<0?-1:this.o>0?1:0},reset:function(){this.section=0,this.psection=0,this.pscroll=0,this.speed=0,this.o=0,this.a=0,this.pa=0,this.c=0}};$(window).on("debouncedresize",function(){$("#cycle-scroll-holder section.cycle").length>0&&fe.wsize(ce.length)});var pe;window.lazySizesConfig={addClasses:!0};var he=!1;$(document).on("lazybeforeunveil",function(t){he||(he=!0,e(he)),$(t.target).parents("figure").removeClass("loading")});var ve="<style type='text/css'>\n	",me=Modernizr.prefixed("transform");ve+="WebkitTransform"==me?"			.filter{\n						filter: grayscale(1);\n						-webkit-filter: grayscale(1);\n						background-color: rgba(178,182,184,0.33);\n						opacity: 0.66;\n						-webkit-transform: translate3d(0,0,0);\n				}\n				.filter:after{\n						display:block !important;\n						z-index: 2;\n						opacity: 1;\n				}\n":"			.filter{						filter: url('#grad');\n						-webkit-filter: url('#grad');\n				}",ve+="\n</style>",$("head").append(ve);var ge;window.viewportUnitsBuggyfill.init(),R.locate(window.location.pathname,null),R.enter()});
//# sourceMappingURL=scripts.js.map