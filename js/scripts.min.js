function clone(a){var b={};for(var c in a)b[c]=a[c];return b}function whichTransitionEvent(){var a,b=document.createElement("fakeelement"),c={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}function whichAnimationEvent(){var a,b=document.createElement("fakeelement"),c={animation:"animationend",OAnimation:"oAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(a in c)if(void 0!==b.style[a])return c[a]}var Froogaloop=function(){function a(b){return new a.fn.init(b)}function b(a,b,c){if(!c.contentWindow.postMessage)return!1;var d=c.getAttribute("src").split("?")[0],e=JSON.stringify({method:a,value:b});"//"===d.substr(0,2)&&(d=window.location.protocol+d),c.contentWindow.postMessage(e,d)}function c(a){var b,c;try{b=JSON.parse(a.data),c=b.event||b.method}catch(d){}if("ready"!=c||j||(j=!0),a.origin!=k)return!1;var f=b.value,g=b.data,h=""===h?null:b.player_id,i=e(c,h),l=[];return i?(void 0!==f&&l.push(f),g&&l.push(g),h&&l.push(h),l.length>0?i.apply(null,l):i.call()):!1}function d(a,b,c){c?(i[c]||(i[c]={}),i[c][a]=b):i[a]=b}function e(a,b){return b?i[b][a]:i[a]}function f(a,b){if(b&&i[b]){if(!i[b][a])return!1;i[b][a]=null}else{if(!i[a])return!1;i[a]=null}return!0}function g(a){"//"===a.substr(0,2)&&(a=window.location.protocol+a);for(var b=a.split("/"),c="",d=0,e=b.length;e>d&&3>d;d++)c+=b[d],2>d&&(c+="/");return c}function h(a){return!!(a&&a.constructor&&a.call&&a.apply)}var i={},j=!1,k=(Array.prototype.slice,"");return a.fn=a.prototype={element:null,init:function(a){return"string"==typeof a&&(a=document.getElementById(a)),this.element=a,k=g(this.element.getAttribute("src")),this},api:function(a,c){if(!this.element||!a)return!1;var e=this,f=e.element,g=""!==f.id?f.id:null,i=h(c)?null:c,j=h(c)?c:null;return j&&d(a,j,g),b(a,i,f),e},addEvent:function(a,c){if(!this.element)return!1;var e=this,f=e.element,g=""!==f.id?f.id:null;return d(a,c,g),"ready"!=a?b("addEventListener",a,f):"ready"==a&&j&&c.call(null,g),e},removeEvent:function(a){if(!this.element)return!1;var c=this,d=c.element,e=""!==d.id?d.id:null,g=f(a,e);"ready"!=a&&g&&b("removeEventListener",a,d)}},a.fn.init.prototype=a.fn,window.addEventListener?window.addEventListener("message",c,!1):window.attachEvent("onmessage",c),window.Froogaloop=window.$f=a}();!function(a,b){"use strict";"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.viewportUnitsBuggyfill=b()}(this,function(){"use strict";function a(a,b){var c;return function(){var d=this,e=arguments,f=function(){a.apply(d,e)};clearTimeout(c),c=setTimeout(f,b)}}function b(){try{return window.self!==window.top}catch(a){return!0}}function c(c){if(!t){if(c===!0&&(c={force:!0}),p=c||{},p.isMobileSafari=A,p.isBadStockAndroid=B,!(!y&&(p.force||A||x||B||z||p.hacks&&p.hacks.required(p))))return window.console&&y&&console.info("viewport-units-buggyfill requires a proper CSSOM and basic viewport unit support, which are not available in IE8 and below"),{init:function(){}};p.hacks&&p.hacks.initialize(p),t=!0,s=document.createElement("style"),s.id="patched-viewport",document.head.appendChild(s),l(function(){var c=a(e,p.refreshDebounceWait||100);window.addEventListener("orientationchange",c,!0),window.addEventListener("pageshow",c,!0),(p.force||x||b())&&(window.addEventListener("resize",c,!0),p._listeningToResize=!0),p.hacks&&p.hacks.initializeEvents(p,e,c),e()})}}function d(){s.textContent=h(),s.parentNode.appendChild(s)}function e(){t&&(f(),setTimeout(function(){d()},1))}function f(){return r=[],w.call(document.styleSheets,function(a){"patched-viewport"!==a.ownerNode.id&&a.cssRules&&"ignore"!==a.ownerNode.getAttribute("data-viewport-units-buggyfill")&&(a.media&&a.media.mediaText&&window.matchMedia&&!window.matchMedia(a.media.mediaText).matches||w.call(a.cssRules,g))}),r}function g(a){if(7===a.type){var b;try{b=a.cssText}catch(c){return}return v.lastIndex=0,void(v.test(b)&&(r.push([a,null,b]),p.hacks&&p.hacks.findDeclarations(r,a,null,b)))}if(!a.style){if(!a.cssRules)return;return void w.call(a.cssRules,function(a){g(a)})}w.call(a.style,function(b){var c=a.style.getPropertyValue(b);a.style.getPropertyPriority(b)&&(c+=" !important"),v.lastIndex=0,v.test(c)&&(r.push([a,b,c]),p.hacks&&p.hacks.findDeclarations(r,a,b,c))})}function h(){q=k();var a,b,c=[],d=[];return r.forEach(function(e){var f=i.apply(null,e),g=f.selector.length?f.selector.join(" {\n")+" {\n":"",h=new Array(f.selector.length+1).join("\n}");return g&&g===a?(g&&!a&&(a=g,b=h),void d.push(f.content)):(d.length&&(c.push(a+d.join("\n")+b),d.length=0),void(g?(a=g,b=h,d.push(f.content)):(c.push(f.content),a=null,b=null)))}),d.length&&c.push(a+d.join("\n")+b),z&&c.push("* { content: normal !important; }"),c.join("\n\n")}function i(a,b,c){var d,e=[];d=c.replace(v,j),p.hacks&&(d=p.hacks.overwriteDeclaration(a,b,d)),b&&(e.push(a.selectorText),d=b+": "+d+";");for(var f=a.parentRule;f;)e.unshift("@media "+f.media.mediaText),f=f.parentRule;return{selector:e,content:d}}function j(a,b,c){var d=q[c],e=parseFloat(b)/100;return e*d+"px"}function k(){var a=window.innerHeight,b=window.innerWidth;return{vh:a,vw:b,vmax:Math.max(b,a),vmin:Math.min(b,a)}}function l(a){var b=0,c=function(){b--,b||a()};w.call(document.styleSheets,function(a){a.href&&m(a.href)!==m(location.href)&&(b++,n(a.ownerNode,c))}),b||a()}function m(a){return a.slice(0,a.indexOf("/",a.indexOf("://")+3))}function n(a,b){o(a.href,function(){var c=document.createElement("style");c.media=a.media,c.setAttribute("data-href",a.href),c.textContent=this.responseText,a.parentNode.replaceChild(c,a),b()},b)}function o(a,b,c){var d=new XMLHttpRequest;if("withCredentials"in d)d.open("GET",a,!0);else{if("undefined"==typeof XDomainRequest)throw new Error("cross-domain XHR not supported");d=new XDomainRequest,d.open("GET",a)}return d.onload=b,d.onerror=c,d.send(),d}var p,q,r,s,t=!1,u=window.navigator.userAgent,v=/([+-]?[0-9.]+)(vh|vw|vmin|vmax)/g,w=[].forEach,x=!1,y=!1,z=u.indexOf("Opera Mini")>-1,A=/(iPhone|iPod|iPad).+AppleWebKit/i.test(u)&&function(){var a=u.match(/OS (\d)/);return a&&a.length>1&&parseInt(a[1])<8}(),B=function(){var a=u.indexOf(" Android ")>-1;if(!a)return!1;var b=u.indexOf("Version/")>-1;if(!b)return!1;var c=parseFloat((u.match("Android ([0-9.]+)")||[])[1]);return 4.4>=c}();return x||(x=!!navigator.userAgent.match(/Trident.*rv[ :]*11\./)),{version:"0.5.2",findProperties:f,getCss:h,init:c,refresh:e}}),function(a){"use strict";function b(a){return(a||"").toLowerCase()}var c="2.1.6";a.fn.cycle=function(c){var d;return 0!==this.length||a.isReady?this.each(function(){var d,e,f,g,h=a(this),i=a.fn.cycle.log;if(!h.data("cycle.opts")){(h.data("cycle-log")===!1||c&&c.log===!1||e&&e.log===!1)&&(i=a.noop),i("--c2 init--"),d=h.data();for(var j in d)d.hasOwnProperty(j)&&/^cycle[A-Z]+/.test(j)&&(g=d[j],f=j.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),i(f+":",g,"("+typeof g+")"),d[f]=g);e=a.extend({},a.fn.cycle.defaults,d,c||{}),e.timeoutId=0,e.paused=e.paused||!1,e.container=h,e._maxZ=e.maxZ,e.API=a.extend({_container:h},a.fn.cycle.API),e.API.log=i,e.API.trigger=function(a,b){return e.container.trigger(a,b),e.API},h.data("cycle.opts",e),h.data("cycle.API",e.API),e.API.trigger("cycle-bootstrap",[e,e.API]),e.API.addInitialSlides(),e.API.preInitSlideshow(),e.slides.length&&e.API.initSlideshow()}}):(d={s:this.selector,c:this.context},a.fn.cycle.log("requeuing slideshow (dom not ready)"),a(function(){a(d.s,d.c).cycle(c)}),this)},a.fn.cycle.API={opts:function(){return this._container.data("cycle.opts")},addInitialSlides:function(){var b=this.opts(),c=b.slides;b.slideCount=0,b.slides=a(),c=c.jquery?c:b.container.find(c),b.random&&c.sort(function(){return Math.random()-.5}),b.API.add(c)},preInitSlideshow:function(){var b=this.opts();b.API.trigger("cycle-pre-initialize",[b]);var c=a.fn.cycle.transitions[b.fx];c&&a.isFunction(c.preInit)&&c.preInit(b),b._preInitialized=!0},postInitSlideshow:function(){var b=this.opts();b.API.trigger("cycle-post-initialize",[b]);var c=a.fn.cycle.transitions[b.fx];c&&a.isFunction(c.postInit)&&c.postInit(b)},initSlideshow:function(){var b,c=this.opts(),d=c.container;c.API.calcFirstSlide(),"static"==c.container.css("position")&&c.container.css("position","relative"),a(c.slides[c.currSlide]).css({opacity:1,display:"block",visibility:"visible"}),c.API.stackSlides(c.slides[c.currSlide],c.slides[c.nextSlide],!c.reverse),c.pauseOnHover&&(c.pauseOnHover!==!0&&(d=a(c.pauseOnHover)),d.hover(function(){c.API.pause(!0)},function(){c.API.resume(!0)})),c.timeout&&(b=c.API.getSlideOpts(c.currSlide),c.API.queueTransition(b,b.timeout+c.delay)),c._initialized=!0,c.API.updateView(!0),c.API.trigger("cycle-initialized",[c]),c.API.postInitSlideshow()},pause:function(b){var c=this.opts(),d=c.API.getSlideOpts(),e=c.hoverPaused||c.paused;b?c.hoverPaused=!0:c.paused=!0,e||(c.container.addClass("cycle-paused"),c.API.trigger("cycle-paused",[c]).log("cycle-paused"),d.timeout&&(clearTimeout(c.timeoutId),c.timeoutId=0,c._remainingTimeout-=a.now()-c._lastQueue,(c._remainingTimeout<0||isNaN(c._remainingTimeout))&&(c._remainingTimeout=void 0)))},resume:function(a){var b=this.opts(),c=!b.hoverPaused&&!b.paused;a?b.hoverPaused=!1:b.paused=!1,c||(b.container.removeClass("cycle-paused"),0===b.slides.filter(":animated").length&&b.API.queueTransition(b.API.getSlideOpts(),b._remainingTimeout),b.API.trigger("cycle-resumed",[b,b._remainingTimeout]).log("cycle-resumed"))},add:function(b,c){var d,e=this.opts(),f=e.slideCount,g=!1;"string"==a.type(b)&&(b=a.trim(b)),a(b).each(function(b){var d,f=a(this);c?e.container.prepend(f):e.container.append(f),e.slideCount++,d=e.API.buildSlideOpts(f),c?e.slides=a(f).add(e.slides):e.slides=e.slides.add(f),e.API.initSlide(d,f,--e._maxZ),f.data("cycle.opts",d),e.API.trigger("cycle-slide-added",[e,d,f])}),e.API.updateView(!0),g=e._preInitialized&&2>f&&e.slideCount>=1,g&&(e._initialized?e.timeout&&(d=e.slides.length,e.nextSlide=e.reverse?d-1:1,e.timeoutId||e.API.queueTransition(e)):e.API.initSlideshow())},calcFirstSlide:function(){var a,b=this.opts();a=parseInt(b.startingSlide||0,10),(a>=b.slides.length||0>a)&&(a=0),b.currSlide=a,b.reverse?(b.nextSlide=a-1,b.nextSlide<0&&(b.nextSlide=b.slides.length-1)):(b.nextSlide=a+1,b.nextSlide==b.slides.length&&(b.nextSlide=0))},calcNextSlide:function(){var a,b=this.opts();b.reverse?(a=b.nextSlide-1<0,b.nextSlide=a?b.slideCount-1:b.nextSlide-1,b.currSlide=a?0:b.nextSlide+1):(a=b.nextSlide+1==b.slides.length,b.nextSlide=a?0:b.nextSlide+1,b.currSlide=a?b.slides.length-1:b.nextSlide-1)},calcTx:function(b,c){var d,e=b;return e._tempFx?d=a.fn.cycle.transitions[e._tempFx]:c&&e.manualFx&&(d=a.fn.cycle.transitions[e.manualFx]),d||(d=a.fn.cycle.transitions[e.fx]),e._tempFx=null,this.opts()._tempFx=null,d||(d=a.fn.cycle.transitions.fade,e.API.log('Transition "'+e.fx+'" not found.  Using fade.')),d},prepareTx:function(a,b){var c,d,e,f,g,h=this.opts();return h.slideCount<2?void(h.timeoutId=0):(!a||h.busy&&!h.manualTrump||(h.API.stopTransition(),h.busy=!1,clearTimeout(h.timeoutId),h.timeoutId=0),void(h.busy||(0!==h.timeoutId||a)&&(d=h.slides[h.currSlide],e=h.slides[h.nextSlide],f=h.API.getSlideOpts(h.nextSlide),g=h.API.calcTx(f,a),h._tx=g,a&&void 0!==f.manualSpeed&&(f.speed=f.manualSpeed),h.nextSlide!=h.currSlide&&(a||!h.paused&&!h.hoverPaused&&h.timeout)?(h.API.trigger("cycle-before",[f,d,e,b]),g.before&&g.before(f,d,e,b),c=function(){h.busy=!1,h.container.data("cycle.opts")&&(g.after&&g.after(f,d,e,b),h.API.trigger("cycle-after",[f,d,e,b]),h.API.queueTransition(f),h.API.updateView(!0))},h.busy=!0,g.transition?g.transition(f,d,e,b,c):h.API.doTransition(f,d,e,b,c),h.API.calcNextSlide(),h.API.updateView()):h.API.queueTransition(f))))},doTransition:function(b,c,d,e,f){var g=b,h=a(c),i=a(d),j=function(){i.transition(g.animIn||{opacity:1},g.speed,f)};i.css(g.cssBefore||{}),h.transition(g.animOut||{},g.speed,function(){h.css(g.cssAfter||{}),g.sync||j()}),g.sync&&j()},queueTransition:function(b,c){var d=this.opts(),e=void 0!==c?c:b.timeout;return 0===d.nextSlide&&0===--d.loop?(d.API.log("terminating; loop=0"),d.timeout=0,e?setTimeout(function(){d.API.trigger("cycle-finished",[d])},e):d.API.trigger("cycle-finished",[d]),void(d.nextSlide=d.currSlide)):void 0!==d.continueAuto&&(d.continueAuto===!1||a.isFunction(d.continueAuto)&&d.continueAuto()===!1)?(d.API.log("terminating automatic transitions"),d.timeout=0,void(d.timeoutId&&clearTimeout(d.timeoutId))):void(e&&(d._lastQueue=a.now(),void 0===c&&(d._remainingTimeout=b.timeout),d.paused||d.hoverPaused||(d.timeoutId=setTimeout(function(){d.API.prepareTx(!1,!d.reverse)},e))))},stopTransition:function(){var a=this.opts();a.slides.filter(":animated").length&&(a.slides.stop(!1,!0),a.API.trigger("cycle-transition-stopped",[a])),a._tx&&a._tx.stopTransition&&a._tx.stopTransition(a)},advanceSlide:function(a){var b=this.opts();return clearTimeout(b.timeoutId),b.timeoutId=0,b.nextSlide=b.currSlide+a,b.nextSlide<0?b.nextSlide=b.slides.length-1:b.nextSlide>=b.slides.length&&(b.nextSlide=0),b.API.prepareTx(!0,a>=0),!1},buildSlideOpts:function(c){var d,e,f=this.opts(),g=c.data()||{};for(var h in g)g.hasOwnProperty(h)&&/^cycle[A-Z]+/.test(h)&&(d=g[h],e=h.match(/^cycle(.*)/)[1].replace(/^[A-Z]/,b),f.API.log("["+(f.slideCount-1)+"]",e+":",d,"("+typeof d+")"),g[e]=d);g=a.extend({},a.fn.cycle.defaults,f,g),g.slideNum=f.slideCount;try{delete g.API,delete g.slideCount,delete g.currSlide,delete g.nextSlide,delete g.slides}catch(i){}return g},getSlideOpts:function(b){var c=this.opts();void 0===b&&(b=c.currSlide);var d=c.slides[b],e=a(d).data("cycle.opts");return a.extend({},c,e)},initSlide:function(b,c,d){var e=this.opts();c.css(b.slideCss||{}),d>0&&c.css("zIndex",d),isNaN(b.speed)&&(b.speed=a.fx.speeds[b.speed]||a.fx.speeds._default),b.sync||(b.speed=b.speed/2),c.addClass(e.slideClass)},updateView:function(a,b,c){var d=this.opts();if(d._initialized){var e=d.API.getSlideOpts(),f=d.slides[d.currSlide];!a&&b!==!0&&(d.API.trigger("cycle-update-view-before",[d,e,f]),d.updateView<0)||(d.slideActiveClass&&d.slides.removeClass(d.slideActiveClass).eq(d.currSlide).addClass(d.slideActiveClass),a&&d.hideNonActive&&d.slides.filter(":not(."+d.slideActiveClass+")").css("visibility","hidden"),0===d.updateView&&setTimeout(function(){d.API.trigger("cycle-update-view",[d,e,f,a])},e.speed/(d.sync?2:1)),0!==d.updateView&&d.API.trigger("cycle-update-view",[d,e,f,a]),a&&d.API.trigger("cycle-update-view-after",[d,e,f]))}},getComponent:function(b){var c=this.opts(),d=c[b];return"string"==typeof d?/^\s*[\>|\+|~]/.test(d)?c.container.find(d):a(d):d.jquery?d:a(d)},stackSlides:function(b,c,d){var e=this.opts();b||(b=e.slides[e.currSlide],c=e.slides[e.nextSlide],d=!e.reverse),a(b).css("zIndex",e.maxZ);var f,g=e.maxZ-2,h=e.slideCount;if(d){for(f=e.currSlide+1;h>f;f++)a(e.slides[f]).css("zIndex",g--);for(f=0;f<e.currSlide;f++)a(e.slides[f]).css("zIndex",g--)}else{for(f=e.currSlide-1;f>=0;f--)a(e.slides[f]).css("zIndex",g--);for(f=h-1;f>e.currSlide;f--)a(e.slides[f]).css("zIndex",g--)}a(c).css("zIndex",e.maxZ-1)},getSlideIndex:function(a){return this.opts().slides.index(a)}},a.fn.cycle.log=function(){window.console&&console.log&&console.log("[cycle2] "+Array.prototype.join.call(arguments," "))},a.fn.cycle.version=function(){return"Cycle2: "+c},a.fn.cycle.transitions={custom:{},none:{before:function(a,b,c,d){a.API.stackSlides(c,b,d),a.cssBefore={opacity:1,visibility:"visible",display:"block"}}},fade:{before:function(b,c,d,e){var f=b.API.getSlideOpts(b.nextSlide).slideCss||{};b.API.stackSlides(c,d,e),b.cssBefore=a.extend(f,{opacity:0,visibility:"visible",display:"block"}),b.animIn={opacity:1},b.animOut={opacity:0}}},fadeout:{before:function(b,c,d,e){var f=b.API.getSlideOpts(b.nextSlide).slideCss||{};b.API.stackSlides(c,d,e),b.cssBefore=a.extend(f,{opacity:1,visibility:"visible",display:"block"}),b.animOut={opacity:0}}},scrollHorz:{before:function(a,b,c,d){a.API.stackSlides(b,c,d);var e=a.container.css("overflow","hidden").width();a.cssBefore={left:d?e:-e,top:0,opacity:1,visibility:"visible",display:"block"},a.cssAfter={zIndex:a._maxZ-2,left:0},a.animIn={left:0},a.animOut={left:d?-e:e}}}},a.fn.cycle.defaults={allowWrap:!0,autoSelector:".cycle-slideshow[data-cycle-auto-init!=false]",delay:0,easing:null,fx:"fade",hideNonActive:!0,loop:0,manualFx:void 0,manualSpeed:void 0,manualTrump:!0,maxZ:100,pauseOnHover:!1,reverse:!1,slideActiveClass:"cycle-slide-active",slideClass:"cycle-slide",slideCss:{position:"absolute",top:0,left:0},slides:"> img",speed:500,startingSlide:0,sync:!0,timeout:4e3,updateView:0},a(document).ready(function(){a(a.fn.cycle.defaults.autoSelector).cycle()})}(jQuery),function(a){"use strict";function b(b,d){var e,f,g,h=d.autoHeight;if("container"==h)f=a(d.slides[d.currSlide]).outerHeight(),d.container.height(f);else if(d._autoHeightRatio)d.container.height(d.container.width()/d._autoHeightRatio);else if("calc"===h||"number"==a.type(h)&&h>=0){if(g="calc"===h?c(b,d):h>=d.slides.length?0:h,g==d._sentinelIndex)return;d._sentinelIndex=g,d._sentinel&&d._sentinel.remove(),e=a(d.slides[g].cloneNode(!0)),e.removeAttr("id name rel").find("[id],[name],[rel]").removeAttr("id name rel"),e.css({position:"static",visibility:"hidden",display:"block"}).prependTo(d.container).addClass("cycle-sentinel cycle-slide").removeClass("cycle-slide-active"),e.find("*").css("visibility","hidden"),d._sentinel=e}}function c(b,c){var d=0,e=-1;return c.slides.each(function(b){var c=a(this).height();c>e&&(e=c,d=b)}),d}function d(b,c,d,e,f){var g=a(e).outerHeight();c.container.transition({height:g},c.autoHeightSpeed,c.autoHeightEasing)}function e(c,f){f._autoHeightOnResize&&(a(window).off("resize orientationchange",f._autoHeightOnResize),f._autoHeightOnResize=null),f.container.off("cycle-slide-added cycle-slide-removed",b),f.container.off("cycle-destroyed",e),f.container.off("cycle-before",d),f._sentinel&&(f._sentinel.remove(),f._sentinel=null)}a.extend(a.fn.cycle.defaults,{autoHeight:0,autoHeightSpeed:250,autoHeightEasing:null}),a(document).on("cycle-initialized",function(c,f){function g(){b(c,f)}var h,i=f.autoHeight,j=a.type(i),k=null;("string"===j||"number"===j)&&(f.container.on("cycle-slide-added cycle-slide-removed",b),f.container.on("cycle-destroyed",e),"container"==i?f.container.on("cycle-before",d):"string"===j&&/\d+\:\d+/.test(i)&&(h=i.match(/(\d+)\:(\d+)/),h=h[1]/h[2],f._autoHeightRatio=h),"number"!==j&&(f._autoHeightOnResize=function(){clearTimeout(k),k=setTimeout(g,50)},a(window).on("resize orientationchange",f._autoHeightOnResize)),setTimeout(g,30))})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{caption:"> .cycle-caption",captionTemplate:"{{slideNum}} / {{slideCount}}",overlay:"> .cycle-overlay",overlayTemplate:"<div>{{title}}</div><div>{{desc}}</div>",captionModule:"caption"}),a(document).on("cycle-update-view",function(b,c,d,e){if("caption"===c.captionModule){a.each(["caption","overlay"],function(){var a=this,b=d[a+"Template"],f=c.API.getComponent(a);f.length&&b?(f.html(c.API.tmpl(b,d,c,e)),f.show()):f.hide()})}}),a(document).on("cycle-destroyed",function(b,c){var d;a.each(["caption","overlay"],function(){var a=this,b=c[a+"Template"];c[a]&&b&&(d=c.API.getComponent("caption"),d.empty())})})}(jQuery),function(a){"use strict";var b=a.fn.cycle;a.fn.cycle=function(c){var d,e,f,g=a.makeArray(arguments);return"number"==a.type(c)?this.cycle("goto",c):"string"==a.type(c)?this.each(function(){var h;return d=c,f=a(this).data("cycle.opts"),void 0===f?void b.log('slideshow must be initialized before sending commands; "'+d+'" ignored'):(d="goto"==d?"jump":d,e=f.API[d],a.isFunction(e)?(h=a.makeArray(g),h.shift(),e.apply(f.API,h)):void b.log("unknown command: ",d))}):b.apply(this,arguments)},a.extend(a.fn.cycle,b),a.extend(b.API,{next:function(){var a=this.opts();if(!a.busy||a.manualTrump){var b=a.reverse?-1:1;a.allowWrap===!1&&a.currSlide+b>=a.slideCount||(a.API.advanceSlide(b),a.API.trigger("cycle-next",[a]).log("cycle-next"))}},prev:function(){var a=this.opts();if(!a.busy||a.manualTrump){var b=a.reverse?1:-1;a.allowWrap===!1&&a.currSlide+b<0||(a.API.advanceSlide(b),a.API.trigger("cycle-prev",[a]).log("cycle-prev"))}},destroy:function(){this.stop();var b=this.opts(),c=a.isFunction(a._data)?a._data:a.noop;clearTimeout(b.timeoutId),b.timeoutId=0,b.API.stop(),b.API.trigger("cycle-destroyed",[b]).log("cycle-destroyed"),b.container.removeData(),c(b.container[0],"parsedAttrs",!1),b.retainStylesOnDestroy||(b.container.removeAttr("style"),b.slides.removeAttr("style"),b.slides.removeClass(b.slideActiveClass)),b.slides.each(function(){var d=a(this);d.removeData(),d.removeClass(b.slideClass),c(this,"parsedAttrs",!1)})},jump:function(a,b){var c,d=this.opts();if(!d.busy||d.manualTrump){var e=parseInt(a,10);if(isNaN(e)||0>e||e>=d.slides.length)return void d.API.log("goto: invalid slide index: "+e);if(e==d.currSlide)return void d.API.log("goto: skipping, already on slide",e);d.nextSlide=e,clearTimeout(d.timeoutId),d.timeoutId=0,d.API.log("goto: ",e," (zero-index)"),c=d.currSlide<d.nextSlide,d._tempFx=b,d.API.prepareTx(!0,c)}},stop:function(){var b=this.opts(),c=b.container;clearTimeout(b.timeoutId),b.timeoutId=0,b.API.stopTransition(),b.pauseOnHover&&(b.pauseOnHover!==!0&&(c=a(b.pauseOnHover)),c.off("mouseenter mouseleave")),b.API.trigger("cycle-stopped",[b]).log("cycle-stopped")},reinit:function(){var a=this.opts();a.API.destroy(),a.container.cycle()},remove:function(b){for(var c,d,e=this.opts(),f=[],g=1,h=0;h<e.slides.length;h++)c=e.slides[h],h==b?d=c:(f.push(c),a(c).data("cycle.opts").slideNum=g,g++);d&&(e.slides=a(f),e.slideCount--,a(d).remove(),b==e.currSlide?e.API.advanceSlide(1):b<e.currSlide?e.currSlide--:e.currSlide++,e.API.trigger("cycle-slide-removed",[e,b,d]).log("cycle-slide-removed"),e.API.updateView())}}),a(document).on("click.cycle","[data-cycle-cmd]",function(b){b.preventDefault();var c=a(this),d=c.data("cycle-cmd"),e=c.data("cycle-context")||".cycle-slideshow";a(e).cycle(d,c.data("cycle-arg"))})}(jQuery),function(a){"use strict";function b(b,c){var d;return b._hashFence?void(b._hashFence=!1):(d=window.location.hash.substring(1),void b.slides.each(function(e){if(a(this).data("cycle-hash")==d){if(c===!0)b.startingSlide=e;else{var f=b.currSlide<e;b.nextSlide=e,b.API.prepareTx(!0,f)}return!1}}))}a(document).on("cycle-pre-initialize",function(c,d){b(d,!0),d._onHashChange=function(){b(d,!1)},a(window).on("hashchange",d._onHashChange)}),a(document).on("cycle-update-view",function(a,b,c){c.hash&&"#"+c.hash!=window.location.hash&&(b._hashFence=!0,window.location.hash=c.hash)}),a(document).on("cycle-destroyed",function(b,c){c._onHashChange&&a(window).off("hashchange",c._onHashChange)})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{loader:!1}),a(document).on("cycle-bootstrap",function(b,c){function d(b,d){function f(b){var f;"wait"==c.loader?(h.push(b),0===j&&(h.sort(g),e.apply(c.API,[h,d]),c.container.removeClass("cycle-loading"))):(f=a(c.slides[c.currSlide]),e.apply(c.API,[b,d]),f.show(),c.container.removeClass("cycle-loading"))}function g(a,b){return a.data("index")-b.data("index")}var h=[];if("string"==a.type(b))b=a.trim(b);else if("array"===a.type(b))for(var i=0;i<b.length;i++)b[i]=a(b[i])[0];b=a(b);var j=b.length;j&&(b.css("visibility","hidden").appendTo("body").each(function(b){function g(){0===--i&&(--j,f(k))}var i=0,k=a(this),l=k.is("img")?k:k.find("img");return k.data("index",b),l=l.filter(":not(.cycle-loader-ignore)").filter(':not([src=""])'),l.length?(i=l.length,void l.each(function(){this.complete?g():a(this).load(function(){g()}).on("error",function(){0===--i&&(c.API.log("slide skipped; img not loaded:",this.src),0===--j&&"wait"==c.loader&&e.apply(c.API,[h,d]))})})):(--j,void h.push(k))}),j&&c.container.addClass("cycle-loading"))}var e;c.loader&&(e=c.API.add,c.API.add=d)})}(jQuery),function(a){"use strict";function b(b,c,d){var e,f=b.API.getComponent("pager");f.each(function(){var f=a(this);if(c.pagerTemplate){var g=b.API.tmpl(c.pagerTemplate,c,b,d[0]);e=a(g).appendTo(f)}else e=f.children().eq(b.slideCount-1);e.on(b.pagerEvent,function(a){b.pagerEventBubble||a.preventDefault(),b.API.page(f,a.currentTarget)})})}function c(a,b){var c=this.opts();if(!c.busy||c.manualTrump){var d=a.children().index(b),e=d,f=c.currSlide<e;c.currSlide!=e&&(c.nextSlide=e,c._tempFx=c.pagerFx,c.API.prepareTx(!0,f),c.API.trigger("cycle-pager-activated",[c,a,b]))}}a.extend(a.fn.cycle.defaults,{pager:"> .cycle-pager",pagerActiveClass:"cycle-pager-active",pagerEvent:"click.cycle",pagerEventBubble:void 0,pagerTemplate:"<span>&bull;</span>"}),a(document).on("cycle-bootstrap",function(a,c,d){d.buildPagerLink=b}),a(document).on("cycle-slide-added",function(a,b,d,e){b.pager&&(b.API.buildPagerLink(b,d,e),b.API.page=c)}),a(document).on("cycle-slide-removed",function(b,c,d,e){if(c.pager){var f=c.API.getComponent("pager");f.each(function(){var b=a(this);a(b.children()[d]).remove()})}}),a(document).on("cycle-update-view",function(b,c,d){var e;c.pager&&(e=c.API.getComponent("pager"),e.each(function(){a(this).children().removeClass(c.pagerActiveClass).eq(c.currSlide).addClass(c.pagerActiveClass)}))}),a(document).on("cycle-destroyed",function(a,b){var c=b.API.getComponent("pager");c&&(c.children().off(b.pagerEvent),b.pagerTemplate&&c.empty())})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{next:"> .cycle-next",nextEvent:"click.cycle",disabledClass:"disabled",prev:"> .cycle-prev",prevEvent:"click.cycle",swipe:!1}),a(document).on("cycle-initialized",function(a,b){if(b.API.getComponent("next").on(b.nextEvent,function(a){a.preventDefault(),b.API.next()}),b.API.getComponent("prev").on(b.prevEvent,function(a){a.preventDefault(),b.API.prev()}),b.swipe){var c=b.swipeVert?"swipeUp.cycle":"swipeLeft.cycle swipeleft.cycle",d=b.swipeVert?"swipeDown.cycle":"swipeRight.cycle swiperight.cycle";b.container.on(c,function(a){b._tempFx=b.swipeFx,b.API.next()}),b.container.on(d,function(){b._tempFx=b.swipeFx,b.API.prev()})}}),a(document).on("cycle-update-view",function(a,b,c,d){if(!b.allowWrap){var e=b.disabledClass,f=b.API.getComponent("next"),g=b.API.getComponent("prev"),h=b._prevBoundry||0,i=void 0!==b._nextBoundry?b._nextBoundry:b.slideCount-1;b.currSlide==i?f.addClass(e).prop("disabled",!0):f.removeClass(e).prop("disabled",!1),b.currSlide===h?g.addClass(e).prop("disabled",!0):g.removeClass(e).prop("disabled",!1)}}),a(document).on("cycle-destroyed",function(a,b){b.API.getComponent("prev").off(b.nextEvent),b.API.getComponent("next").off(b.prevEvent),b.container.off("swipeleft.cycle swiperight.cycle swipeLeft.cycle swipeRight.cycle swipeUp.cycle swipeDown.cycle")})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{progressive:!1}),a(document).on("cycle-pre-initialize",function(b,c){if(c.progressive){var d,e,f=c.API,g=f.next,h=f.prev,i=f.prepareTx,j=a.type(c.progressive);if("array"==j)d=c.progressive;else if(a.isFunction(c.progressive))d=c.progressive(c);else if("string"==j){if(e=a(c.progressive),d=a.trim(e.html()),!d)return;if(/^(\[)/.test(d))try{d=a.parseJSON(d)}catch(k){return void f.log("error parsing progressive slides",k)}else d=d.split(new RegExp(e.data("cycle-split")||"\n")),d[d.length-1]||d.pop()}i&&(f.prepareTx=function(a,b){var e,f;return a||0===d.length?void i.apply(c.API,[a,b]):void(b&&c.currSlide==c.slideCount-1?(f=d[0],d=d.slice(1),c.container.one("cycle-slide-added",function(a,b){setTimeout(function(){b.API.advanceSlide(1)},50)}),c.API.add(f)):b||0!==c.currSlide?i.apply(c.API,[a,b]):(e=d.length-1,f=d[e],d=d.slice(0,e),c.container.one("cycle-slide-added",function(a,b){setTimeout(function(){b.currSlide=1,b.API.advanceSlide(-1)},50)}),c.API.add(f,!0)))}),g&&(f.next=function(){var a=this.opts();if(d.length&&a.currSlide==a.slideCount-1){var b=d[0];d=d.slice(1),a.container.one("cycle-slide-added",function(a,b){g.apply(b.API),b.container.removeClass("cycle-loading")}),a.container.addClass("cycle-loading"),a.API.add(b)}else g.apply(a.API)}),h&&(f.prev=function(){var a=this.opts();if(d.length&&0===a.currSlide){var b=d.length-1,c=d[b];d=d.slice(0,b),a.container.one("cycle-slide-added",function(a,b){b.currSlide=1,b.API.advanceSlide(-1),b.container.removeClass("cycle-loading")}),a.container.addClass("cycle-loading"),a.API.add(c,!0)}else h.apply(a.API)})}})}(jQuery),function(a){"use strict";a.extend(a.fn.cycle.defaults,{tmplRegex:"{{((.)?.*?)}}"}),a.extend(a.fn.cycle.API,{tmpl:function(b,c){var d=new RegExp(c.tmplRegex||a.fn.cycle.defaults.tmplRegex,"g"),e=a.makeArray(arguments);return e.shift(),b.replace(d,function(b,c){var d,f,g,h,i=c.split(".");for(d=0;d<e.length;d++)if(g=e[d]){if(i.length>1)for(h=g,f=0;f<i.length;f++)g=h,h=h[i[f]]||c;else h=g[c];if(a.isFunction(h))return h.apply(g,e);if(void 0!==h&&null!==h&&h!=c)return h}return c})}})}(jQuery),!function(a){"use strict";a.event.special.swipe=a.event.special.swipe||{scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var b=a(this);b.bind("touchstart",function(c){function d(b){if(g){var c=b.originalEvent.touches?b.originalEvent.touches[0]:b;e={time:(new Date).getTime(),coords:[c.pageX,c.pageY]},Math.abs(g.coords[0]-e.coords[0])>a.event.special.swipe.scrollSupressionThreshold&&b.preventDefault()}}var e,f=c.originalEvent.touches?c.originalEvent.touches[0]:c,g={time:(new Date).getTime(),coords:[f.pageX,f.pageY],origin:a(c.target)};b.bind("touchmove",d).one("touchend",function(){b.unbind("touchmove",d),g&&e&&e.time-g.time<a.event.special.swipe.durationThreshold&&Math.abs(g.coords[0]-e.coords[0])>a.event.special.swipe.horizontalDistanceThreshold&&Math.abs(g.coords[1]-e.coords[1])<a.event.special.swipe.verticalDistanceThreshold&&g.origin.trigger("swipe").trigger(g.coords[0]>e.coords[0]?"swipeleft":"swiperight"),g=e=void 0})})}},a.event.special.swipeleft=a.event.special.swipeleft||{setup:function(){a(this).bind("swipe",a.noop)}},a.event.special.swiperight=a.event.special.swiperight||a.event.special.swipeleft}(jQuery),function(){for(var a,b=function(){},c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],d=c.length,e=window.console=window.console||{};d--;)a=c[d],e[a]||(e[a]=b)}(),function(a){var b,c,d=a.event;b=d.special.debouncedresize={setup:function(){a(this).on("resize",b.handler)},teardown:function(){a(this).off("resize",b.handler)},handler:function(a,e){var f=this,g=arguments,h=function(){a.type="debouncedresize",d.dispatch.apply(f,g)};c&&clearTimeout(c),e?h():c=setTimeout(h,b.threshold)},threshold:150}}(jQuery),function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){if(a in l.style)return a;for(var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a;
}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);return l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),"WebkitTransform"!==m.transform||n?b.style[m.transform]=e.toString():b.style[m.transform]=e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("scaleX"),h("scaleY"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=a.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j="undefined"==typeof c.queue?!0:c.queue,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(b){var c=!1,d=function(){c&&h.unbind(p,d),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof b&&b()};q>0&&p&&a.transit.useTransitionEnd?(c=!0,h.bind(p,d)):window.setTimeout(d,q),h.each(function(){q>0&&(this.style[m.transition]=n),a(this).css(l)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g,a}),function(a){"use strict";a.fn.fitVids=function(b){var c={customSelector:null,ignore:null};if(!document.getElementById("fit-vids-style")){var d=document.head||document.getElementsByTagName("head")[0],e=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}",f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+e+"</style>",d.appendChild(f.childNodes[1])}return b&&a.extend(c,b),this.each(function(){var b=['iframe[src*="player.vimeo.com"]','iframe[src*="youtube.com"]','iframe[src*="youtube-nocookie.com"]','iframe[src*="kickstarter.com"][src*="video.html"]',"object","embed"];c.customSelector&&b.push(c.customSelector);var d=".fitvidsignore";c.ignore&&(d=d+", "+c.ignore);var e=a(this).find(b.join(","));e=e.not("object object"),e=e.not(d),e.each(function(b){var c=a(this);if(!(c.parents(d).length>0||"embed"===this.tagName.toLowerCase()&&c.parent("object").length||c.parent(".fluid-width-video-wrapper").length)){c.css("height")||c.css("width")||!isNaN(c.attr("height"))&&!isNaN(c.attr("width"))||(c.attr("height",9),c.attr("width",16));var e="object"===this.tagName.toLowerCase()||c.attr("height")&&!isNaN(parseInt(c.attr("height"),10))?parseInt(c.attr("height"),10):c.height(),f=isNaN(parseInt(c.attr("width"),10))?c.width():parseInt(c.attr("width"),10),g=e/f;if(!c.attr("id")){var h="fitvid"+b;c.attr("id",h)}c.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",100*g+"%"),c.removeAttr("height").removeAttr("width")}})})}}(window.jQuery||window.Zepto),!function(a,b){a.lazySizes=b(a,a.document),"function"==typeof define&&define.amd&&define(a.lazySizes)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d=b.documentElement,e=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],g=function(a,b){var c=new RegExp("(\\s|^)"+b+"(\\s|$)");return a.className.match(c)&&c},h=function(a,b){g(a,b)||(a.className+=" "+b)},i=function(a,b){var c;(c=g(a,b))&&(a.className=a.className.replace(c," "))},j=function(a,b,c){var d=c?"addEventListener":"removeEventListener";c&&j(a,b),f.forEach(function(c){a[d](c,b)})},k=function(a,c,d,e,f){var g=b.createEvent("Event");return g.initEvent(c,!e,!f),g.details=d||{},a.dispatchEvent(g),g},l=function(b,d){var e;a.HTMLPictureElement||((e=a.picturefill||a.respimage||c.polyfill)?e({reevaluate:!0,reparse:!0,elements:[b]}):d&&d.src&&(b.src=d.src))},m=function(a,b){return getComputedStyle(a,null)[b]},n=function(a,b){for(var d=a.offsetWidth;d<c.minSize&&b&&!a._lazysizesWidth;)d=b.offsetWidth,b=b.parentNode;return d},o=function(a){var c,d,e=function(){c&&(c=!1,a())},f=function(){clearInterval(d),b.hidden||(e(),d=setInterval(e,51))};return b.addEventListener("visibilitychange",f),f(),function(a){c=!0,a===!0&&e()}},p=function(){var f,n,r,s,t,u,v,w,x,y,z,A=a.HTMLPictureElement&&navigator.userAgent.match(/hrome\/(\d+)/)&&40==RegExp.$1,B=/^img$/i,C=/^iframe$/i,D="onscroll"in a,E=-2,F=E,G=E,H=E,I=0,J=0,K=0,L=function(a){J--,a&&a.target&&j(a.target,L),(!a||0>J||!a.target)&&(J=0)},M=function(a,b){var c,d=a,e="hidden"!=m(a,"visibility");for(w-=b,z+=b,x-=b,y+=b;e&&(d=d.offsetParent);)e=s&&2>J||(m(d,"opacity")||1)>0,e&&"visible"!=m(d,"overflow")&&(c=d.getBoundingClientRect(),e=y>c.left-1&&x<c.right+1&&z>c.top-1&&w<c.bottom+1);return e},N=function(){var a,b,d,e,g,h,i,j,k,l=n.length;if(l&&p.m){for(b=Date.now(),f||S(),a=K;l>a;a++,K++)if(n[a]&&!n[a]._lazyRace)if(D){if((j=n[a].getAttribute("data-expand"))&&(h=1*j)||(h=H),!(J>6&&(!j||"src"in n[a])))if(h>E&&(p.m<2||J>3)&&(h=E),k!==h&&(u=innerWidth+h,v=innerHeight+h,i=-1*h,k=h),d=n[a].getBoundingClientRect(),(z=d.bottom)>=i&&(w=d.top)<=v&&(y=d.right)>=i&&(x=d.left)<=u&&(z||y||x||w)&&(s&&G>H&&3>J&&4>I&&!j||M(n[a],h)))K--,b+=2,R(n[a]),g=!0;else{if(Date.now()-b>3)return K++,void O();!g&&s&&!e&&3>J&&4>I&&(r[0]||c.preloadAfterLoad)&&(r[0]||!j&&(z||y||x||w||"auto"!=n[a].getAttribute(c.sizesAttr)))&&(e=r[0]||n[a])}}else R(n[a]);K=0,I++,G>H&&2>J&&I>5&&p.m>2?(H=G,I=0,O()):H=H!=F&&p.m>1&&I>4?F:E,e&&!g&&R(e)}},O=o(N),P=function(a){h(a.target,c.loadedClass),i(a.target,c.loadingClass),j(a.target,P)},Q=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.setAttribute("src",b)}},R=function(a,b){var d,f,m,n,o,p,r,u,v,w,x,y=a.currentSrc||a.src,z=B.test(a.nodeName),D=a.getAttribute(c.sizesAttr)||a.getAttribute("sizes"),E="auto"==D;if(!E&&s||!z||!y||a.complete||g(a,c.errorClass)){if(a._lazyRace=!0,!(v=k(a,"lazybeforeunveil",{force:!!b})).defaultPrevented){if(D&&(E?q.updateElem(a,!0):a.setAttribute("sizes",D)),p=a.getAttribute(c.srcsetAttr),o=a.getAttribute(c.srcAttr),z&&(r=a.parentNode,u=e.test(r.nodeName||"")),w=v.details.firesLoad||"src"in a&&(p||o||u),w&&(J++,j(a,L,!0),clearTimeout(t),t=setTimeout(L,3e3)),u)for(d=r.getElementsByTagName("source"),f=0,m=d.length;m>f;f++)(x=c.customMedia[d[f].getAttribute("data-media")||d[f].getAttribute("media")])&&d[f].setAttribute("media",x),n=d[f].getAttribute(c.srcsetAttr),n&&d[f].setAttribute("srcset",n);p?(a.setAttribute("srcset",p),A&&D&&a.removeAttribute("src")):o&&(C.test(a.nodeName)?Q(a,o):a.setAttribute("src",o)),h(a,c.loadingClass),j(a,P,!0)}setTimeout(function(){a._lazyRace&&delete a._lazyRace,"auto"==D&&h(a,c.autosizesClass),(p||u)&&l(a,{src:o}),i(a,c.lazyClass),(!w||a.complete&&y==(a.currentSrc||a.src))&&(w&&L(v),P(v)),a=null})}},S=function(){f||(F=Math.max(Math.min(c.expand||140,300),9),G=4*F),f=!0},T=function(){p.m=3},U=function(){s=!0,T(),O(!0)};return{_i:function(){n=b.getElementsByClassName(c.lazyClass),r=b.getElementsByClassName(c.lazyClass+" "+c.preloadClass),c.scroll&&addEventListener("scroll",O,!0),addEventListener("resize",function(){f=!1,O()},!0),a.MutationObserver?new MutationObserver(O).observe(d,{childList:!0,subtree:!0,attributes:!0}):(d.addEventListener("DOMNodeInserted",O,!0),d.addEventListener("DOMAttrModified",O,!0),setInterval(O,3e3)),addEventListener("hashchange",O,!0),["transitionstart","transitionend","load","focus","mouseover","animationend","click"].forEach(function(a){b.addEventListener(a,O,!0)}),(s=/d$|^c/.test(b.readyState))||(addEventListener("load",U),b.addEventListener("DOMContentLoaded",O)),setTimeout(T,777),O(n.length>0)},m:1,checkElems:O,unveil:R}}(),q=function(){var a,d=function(a,b){var c,d,f,g,h,i=a.parentNode;if(i&&(c=n(a,i),h=k(a,"lazybeforesizes",{width:c,dataAttr:!!b}),!h.defaultPrevented&&(c=h.details.width,c&&c!==a._lazysizesWidth))){if(a._lazysizesWidth=c,c+="px",a.setAttribute("sizes",c),e.test(i.nodeName||""))for(d=i.getElementsByTagName("source"),f=0,g=d.length;g>f;f++)d[f].setAttribute("sizes",c);h.details.dataAttr||l(a,h.details)}},f=function(){var b,c=a.length;if(c)for(b=0;c>b;b++)d(a[b])},g=o(f);return{_i:function(){a=b.getElementsByClassName(c.autosizesClass),addEventListener("resize",g)},checkElems:g,updateElem:d}}(),r=function(){r.i||(r.i=!0,q._i(),p._i())};return function(){var b,d={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",scroll:!0,autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:50,customMedia:{},init:!0};c=a.lazySizesConfig||{};for(b in d)b in c||(c[b]=d[b]);a.lazySizesConfig=c,setTimeout(function(){c.init&&r()})}(),{cfg:c,autoSizer:q,loader:p,init:r,uP:l,aC:h,rC:i,hC:g,fire:k,gW:n}}}),transitionEnd=whichTransitionEvent(),animationEnd=whichAnimationEvent(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c}}),window.onload=function(){/iP(hone|ad)/.test(window.navigator.userAgent)&&document.body.addEventListener("touchstart",function(){},!1)},!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){var b=a.event.dispatch||a.event.handle,c=a.event.special,d="D"+ +new Date,e="D"+(+new Date+1);c.scrollstart={setup:function(e){var f,g=a.extend({latency:c.scrollstop.latency},e),h=function(a){var c=this,d=arguments;f?clearTimeout(f):(a.type="scrollstart",b.apply(c,d)),f=setTimeout(function(){f=null},g.latency)};a(this).bind("scroll",h).data(d,h)},teardown:function(){a(this).unbind("scroll",a(this).data(d))}},c.scrollstop={latency:250,setup:function(d){var f,g=a.extend({latency:c.scrollstop.latency},d),h=function(a){var c=this,d=arguments;f&&clearTimeout(f),f=setTimeout(function(){f=null,a.type="scrollstop",b.apply(c,d)},g.latency)};a(this).bind("scroll",h).data(e,h)},teardown:function(){a(this).unbind("scroll",a(this).data(e))}}}),Function.prototype.debounce=function(a,b){var c=this,d=null,e=a;return function(){function a(){c.apply(f,g),d=null}var f=b||this,g=arguments;d&&clearTimeout(d),d=setTimeout(a,e)}},$(document).ready(function(a){function b(a){function b(){window.setTimeout(function(){$(document).trigger("showpage")},2e3)}($("img").length<1||a)&&b()}function c(a){var b=$('<base href="'+a+'">');$("head").append(b),history.pushState(null,null,a)}function d(){$(".site-title").off(transitionEnd),$("#container").addClass("menu-open"),F(),$(".menu-wrapper").removeAttr("style"),("about"==O.sectionID||"contact"==O.sectionID)&&s(),K.addClass("active"),$("body").addClass("menu")}function e(){null==O.sectionID&&$(".site-title").on(transitionEnd,function(a){"padding-bottom"==a.originalEvent.propertyName&&($("#container").addClass("cycle-active"),$("#container").removeClass("menu-open"),$(this).off(transitionEnd).trigger("cycle-activate"))}),K.removeClass("active"),$("body").removeClass("menu"),("about"==O.sectionID||"contact"==O.sectionID)&&o()}function f(){function a(a,b){var c="slide-video-";thisVideo=$(a).attr("id").substr(c.length),W.hasOwnProperty(thisVideo)&&W[thisVideo].api(b)}function b(a,b){var c=a.find("img").data("video"),d=e+"-video-"+b,f=$('<figure id="slide-video-'+d+'" class="video">'+Y+"</figure>");return $.ajax({url:"https://vimeo.com/api/oembed.json?url="+c+"&api=true&player_id="+d+"&title=false&portrait=false&byline=false",success:function(a){var c=($(".slideshow-wrapper").find("#slide-video-"+b),$(a.html).wrap('<div class="lazyload center"></div>').parent().fitVids().appendTo(f).addClass("active").find("iframe").attr("id",d)[0]),e=$f(c);e.addEvent("ready",function(){W[d]=e,f.find(".video-spinner").attr("class","video-spinner").on(transitionEnd,function(){$(this).remove()})})}}),f}function c(a,b){return imgClasses=a.attr("class").split(/\s+/),slidefig='<figure id="slide-image-'+b+'" class="image"><div class="vertical-center"></div></figure>',a=a.clone().off("click").find("img").data("classes",imgClasses).removeAttr("srcset").attr("sizes","100vw").removeClass().addClass("lazyload"),$(slidefig).find("div").append(a).parent()}function d(){g.removeClass("active"),$(".cycle-slide-active.video").length>0&&a($(".cycle-slide-active")[0],"pause"),$(".slidesshow-wrapper").removeClass("cursor-move cursor-move-down cursor-move-up");var b=g.find(".cycle-slide-active img"),c=b.css("transform");b.attr("style",c),$(window).trigger("debouncedresize")}var e=$("article.content").data("name")+"-slideshow",f=[];$.each($(".grid figure"),function(a){$(this).data("slideindex",a),$(this).hasClass("video")?slide=b($(this),a):slide=c($(this),a),f[a]=slide}),Z.hasOwnProperty(e)||$(X).attr("id",e).prependTo("body").append(f).cycle({slides:"figure",startingSlide:0,swipe:!0,log:!1,next:".slideshow-paging .next-button",prev:".slideshow-paging .back-button",paused:!0,manualSpeed:200});var g=$("#"+e);Z[e]=$("#"+e),$("article.project .grid").on("click","figure",function(a){var b=g.data("cycle.opts"),c=$(a.currentTarget).data("slideindex");c!=b.currSlide?g.cycle("goto",c).on("cycle-after",function(){$(this).addClass("active")}):g.trigger("cycle-show",[b,null,b.slides[b.currSlide]]).addClass("active"),$("body").addClass("slideshow")}),g.on("cycle-after cycle-show",function(b,c,d,e){var f=b.type;if("cycle-after"==f&&$(d).hasClass("image")?($(window).off("mousemove"),$(d).off("hoverspeed").find("img").css({top:"0","-webkit-transition-duration":"0","transition-duration":"0",cursor:"auto"})):"cycle-after"==f&&$(d).hasClass("video")&&a(d,"pause"),$(e).hasClass("image")){var g=$(e).find("img"),h=0,i=0,j=0,k=0,l=3,m=.67,n=0;g.css({"transition-duration":"0.33s"}),h=$(window).height(),i=g.height(),j=i-h,$(window).on("mousemove",function(a){if(i>h){var b=a.clientY,c=h/2,d=Math.round((b-c)/c*l)/l;d!=k&&(k=d,$(e).trigger("hoverspeed",[k]))}else g.removeAttr("style")}).trigger("mousemove"),$(e).on("hoverspeed",function(a,b){switch(!0){case 0>b:n=m/Math.sin(-1*b),g.css({transform:"translate3d(0,"+j/2+"px,0)","transition-duration":n+"s"}),$(".slideshow-wrapper").addClass("cursor-move-up").removeClass("cursor-move-down cursor-move");break;case b>0:n=m/Math.sin(b),g.css({transform:"translate3d(0,"+j/2*-1+"px,0)","transition-duration":n+"s"}),$(".slideshow-wrapper").addClass("cursor-move-down").removeClass("cursor-move-up cursor-move");break;default:g.css({transform:g.css("transform"),"transition-duration":"0"}),$(".slideshow-wrapper").addClass("cursor-move").removeClass("cursor-move-up cursor-move-down")}})}else a(e,"play")}),$(document).on("click",".slideshow-close a",function(a){d(),a.preventDefault()}),$(document).keyup(function(a){27==a.keyCode&&d()})}function g(){$("article.project .grid").off("click")}function h(){var a=$(".project .grid");$.each(_,function(b){toPair=[],$("body").hasClass(this.project)&&($.each(this.pairs,function(b){var c={};c.el=[a.children().eq(this[0]).removeClass("width1"),a.children().eq(this[1]).removeClass("width1")];var d=0;$.each(c.el,function(a){classes=this.attr("class");var b="height",c=classes.substring(classes.indexOf(b));d=parseInt(c.substring(b.length))+d}),c.wrapper='<div class="box width1 height'+d+' pair"></div></div>',toPair.push(c)}),$.each(toPair,function(){$(this.el[0][0]).add(this.el[1][0]).wrapAll(this.wrapper)}))})}function i(){ca.go=!0;var a=aa/ca.e;ca.header.css({"transition-delay":"0",transition:"none",transform:"translate3d(0, "+Math.max(ca.o*a,ca.o)+"px, 0)",opacity:1-3*a})}function j(){ca.go&&(ca.go=!1,ca.header.css({transform:"translate3d("+ca.o+"px)"}),cancelAnimationFrame(V))}function k(){ea.go||$("section.images .grid").removeClass("hover-fade"),ea.go=!0;var a=aa/ea.e,b=-1*ea.o;ea.client.css({transform:"translate3d(0,"+Math.max(b,b*a)+"px,0)",opacity:1-a}),ea.title.css({transform:"translate3d(0,"+Math.max(b,b*a*1.5)+"px,0)",opacity:1-1.5*a}),ea.img.css({transform:"translate3d(0,"+100*a*-1+"px, 0)"}),ea.img.find(".pad").css("opacity",1-.75*a)}function l(){ea.go&&(ea.go=!1,ea.client.css({transform:"translate3d(0,"+-1*ea.o+"px,0)",opacity:0}),ea.title.css({transform:"translate3d(0,"+-1*ea.o*1.5+"px,0)",opacity:0}),ea.img.css({transform:"translate3d(0, -100px, 0)"}),ea.img.find(".pad").css("opacity",.25),cancelAnimationFrame(T),$("section.images .grid").addClass("hover-fade"))}function m(){ga.go=!0;var a=(aa-ga.s)/ga.e,b=-1*ga.o+ga.o*a;ga.client.css({transform:"translate3d(0,"+Math.min(b,0)+"px,0)",opacity:Math.min(1,1.5*a)}),ga.title.css({transform:"translate3d(0,"+Math.min(1.33*b,0)+"px,0)",opacity:Math.min(1,a)})}function n(){ga.go&&(ga.go=!1,ga.client.css({transform:"translate3d(0,"+-1*ga.o+"px,0)",opacity:0}),ga.title.css({transform:"translate3d(0,"+-1*ga.o+"px,0)",opacity:0}),cancelAnimationFrame(U))}function o(){function a(){$("body").scrollTop()>0&&I.stop().animate({scrollTop:0},667,"easeOutCirc")}setTimeout(a,300),$(".menu-wrapper").children().on(transitionEnd,function(a){a.stopPropagation()}).parent().on(transitionEnd,function(a){var b=a.originalEvent.propertyName;("transform"==b||"-webkit-transform"==b||"-ms-transform"==b)&&(q(),$(this).off(transitionEnd))})}function p(){if(aa=$(this).scrollTop(),Modernizr.touchevents){ea.init();var a=!1,b=ea.client.add(ea.title).add(ea.img),c=ea.img.height();$(window).on("scroll",function(d){aa=$(this).scrollTop(),aa>c/2&&!a?(b.addClass("touchanim hide").removeClass("show"),a=!0):c/2>=aa&&a&&(b.addClass("show").removeClass("hide"),a=!1)})}else T=requestAnimationFrame(k),U=requestAnimationFrame(m),$(window).on("scroll",function(a){aa=$(this).scrollTop(),aa<=ea.e?T=requestAnimationFrame(k):ea.go&&(T=requestAnimationFrame(l)),aa>ga.s?U=requestAnimationFrame(m):ga.go&&ga.ok&&(U=requestAnimationFrame(n))})}function q(){ca.init();$(window).on("scroll",function(a){aa=$(this).scrollTop(),V=requestAnimationFrame(aa>0&&aa<=ca.e&&ca.ok?i:j)})}function r(a){$(window).off("scroll scrollstart"),T=null,U=null,ea=clone(da),ga=clone(fa)}function s(){$(window).off("scroll"),V=null,ca=clone(ba)}function t(a){N=$("section.cycle"),ha=N.find("> a").each(function(a){$(this).data("slideindex",a)}),ka=N.clone().attr("id","cycle-auto-holder").addClass("filter").appendTo(".content").cycle(ia);$('<div class="fade"/>').appendTo("#cycle-scroll-holder");la.reset(),la.wsize(ha.length),la.section=0,window.scrollTo(0,0),$(".cycle-pager").addClass("notrans"),$(window).on("cycle-activate",function(b){$("#container").addClass("cycle-active"),$("html:hover").length>0?(u(!0),ka.addClass("hidden")):(w(!0),N.addClass("hidden")),a=!1}),a||$(window).trigger("cycle-activate")}function u(a){null!=N&&(C(ha[la.section],!0),a=a||!1,a?($(".cycle-pager").addClass("notrans"),$("#container").addClass("cycle-scroll"),G(),v(!0)):($("#cycle-scroll-holder").removeClass("hidden"),$("#container").addClass("cycle-scroll").one(animationEnd,function(b){$("#cycle-auto-holder").addClass("hidden"),G(),v(a)})))}function v(a){var b=!0;a=a||!1,$(window).on("mousemove scrollstart touchstart click",function(c){a&&$(".cycle-pager").removeClass("notrans"),$(this).off("mousemove scrollstart touchstart click"),b=!1}),ja=window.setTimeout(function(){b&&!$("body").hasClass("menu")?(a&&$(".cycle-pager").removeClass("notrans"),w()):v()},4e3)}function w(a){$(this).off("mousemove scrollstart touchstart click"),ka.cycle("goto",la.section),ha.removeClass("cycle-slide-hidden cycle-slide-visible"),a=a||!1,a?($(".cycle-pager").removeClass("notrans"),ka.cycle("resume"),x()):($("#cycle-auto-holder").removeClass("hidden"),$(window).off("scroll scrollstop scrollstart mousemove"),$("#cycle-scroll-holder").addClass("out").one(animationEnd,function(a){$(this).removeClass("out").find("figure").removeAttr("style"),$("#container").removeClass("cycle-scroll"),ka.cycle("resume"),x()}))}function x(){var a=0;$(window).on("mousemove scrollstart click touchstart",function(b){if("mousemove"==!b.type||a>0){$(this).off("mousemove scrollstart click touchstart"),ka.cycle("pause");var c=ka.data("cycle.opts").currSlide;la.section=c,scrollto=la.section*la.h,window.scrollTo(0,scrollto),u()}else a++})}function y(){la.frame(aa);var a;la.o>0?(a=1,z(-1),B(),A(1,"bottom"),la.pa!=la.a&&C(ha[la.section],!0)):(a=-1,z(1),B(),A(-1,"top"),la.pa!=la.a&&C(ha[la.section],!1)),la.section!=la.psection&&(la.psection=la.section),la.pscroll=aa,la.pa=la.a}function z(a){var b=50*la.c*a;$(ha[la.section]).find("figure").css("transform","translate3d(0,"+b+"%,0)")}function A(a,b){if("bottom"==b)var c=-25*la.c+75;else var c=25*la.c-75;$(ha[la.section+a]).find("figure").css("transform","translate3d(0 ,"+c+"%, 0)")}function B(){$(".fade").css("opacity",1-la.c)}function C(a,b,c){var d=la.a;switch($(a).removeClass("cycle-slide-visible cycle-slide-hidden").addClass("cycle-slide-active"),!0){case c&&d>0:poop=$(ha[0]).removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(a);break;case 0>d&&0==$(a).data("slideindex"):poop=$(ha[ha.length-1]).addClass("cycle-slide-visible").add(a);break;case b&&d>=0:poop=$(a).next("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(a);break;case b&&0>d:poop=$(a).prev("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(a);break;case!b&&0>d:poop=$(a).prev("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(a);break;case!b&&d>=0:poop=$(a).next("a").removeClass("cycle-slide-hidden cycle-slide-active").addClass("cycle-slide-visible").add(a)}$(ha).not(poop).removeClass("cycle-slide-visible cycle-slide-active").addClass("cycle-slide-hidden")}function D(){null!=N&&null!=ka&&(E(),$("#container").removeClass("cycle-active"),ka.cycle("destroy"),$("#container").removeClass("cycle-active cycle-scroll cycle-auto-transition"),ka=null,N=null,ha=null,ma=null,la.reset())}function E(){window.clearTimeout(ja),$(window).off("scroll scrollstop scrollstart mousemove click touchstart"),ka.cycle("pause"),ja=null}function F(){null!=ka&&null!=N&&E()}function G(){function a(){$(window).off("scrollstop"),I.stop().animate({scrollTop:la.h*la.section},333,function(){b.removeClass("notrans"),$pagerActive=$(b.find("figcaption:nth-child("+(la.section+1)+")")),$pagerActive.hasClass("cycle-pager-active")||$pagerActive.addClass("cycle-pager-active").siblings().removeClass("cycle-pager-active"),$(window).on("scrollstop",{latency:333},function(b){a()})})}var b=$(".cycle-pager");$(window).on("scrollstart",function(a){b.addClass("notrans")}).on("scroll",function(a){aa=$(this).scrollTop(),null!=N&&(ma=requestAnimationFrame(y))}).trigger("scroll").on("scrollstop",{latency:333},function(b){a()})}var H=function(){},I=$("body, html"),J=".menu-wrapper , :not(.contact) .content-wrapper",K=$(".menu-container"),L=($(".menu-wrapper a"),$(".menu-button a")),M=$(".site-title a"),N=null;$("body[data-uri-stem]").length>0?$("body").data("uri-stem"):"/";$(".header-svg, .header-svg #spinner").each(function(){var a=$(this).attr("class");a=void 0===a?"animating":a+" animating"}).on(animationEnd,function(){b()}),$(document).on("showpage",function(a){$("#container").addClass("active"),null==O.sectionID&&$(window).trigger("cycle-activate"),$(".site-title a").removeAttr("style")});var O={page:null,caller:!1,activeLink:null,sub:!1,locate:function(a,b,d){c(a),$(J).find("a.active").removeClass("active"),this.page=a,this.caller=b,this.getSection(a),(d=d||H)()},getSection:function(a){secs=$(".site-links a").map(function(){return $(this).attr("href").replace(/\//g,"\\/")}).get().join("|"),patt=new RegExp("("+secs+")(?=\\/|$)","g");var b=a.match(patt);null==b?(this.sectionID=null,this.activeLink=$('a[href="'+a+'"]').addClass("active")):(b=b[0],this.sectionID=b.replace(/\/|henryproudlove/g,""),a==b||a==b+"/"?this.sub=!1:this.sub=!0,this.activeLink=$('a[href="'+b+'"]').addClass("active"))},isCaseStudy:function(){return"work"==this.sectionID&&1==this.sub?!0:!1},exit:function(a){window.clearTimeout(ja),ja=null,$(".menu-wrapper").removeAttr("style");var b=this.sectionID,c=this.isCaseStudy();c?(g(),r()):"about"==b||"contact"==b?s():null==b&&D(),(a=a||H)()},enter:function(a){var b=this.sectionID,c=this.isCaseStudy();c?(f(),p(),h()):("about"==b||"contact"==b?o():null==b&&(a=a||!1,t(a)),S.down()),$(window).trigger("debouncedresize"),S.up()}};$(document).on("navChange",function(a,b,c){F(),R.init(b,c),$(c).hasClass("menu-wrapper")&&K.add(L).toggleClass("active")}),$(J).on("click",'a:not([href^="http://"], [href^="https://"], [href^="mailto:"], [href^="tel://"])',function(a){var b=$(this).attr("href"),c=O.page;b!=c&&$(document).trigger("navChange",[b,a.delegateTarget]),a.preventDefault()});var P="state"in window.history&&null!==window.history.state,Q=location.href;$(window).on("popstate",function(a){var b=!P&&location.href==Q;P=!0,b||$(document).trigger("navChange",[window.location.pathname,"back-forward"])});var R={init:function(a,b){$.ajax({url:a,dataType:"html",beforeSend:function(){$("#container").addClass("transition"),R.loaderUp()},success:function(c){$(".content").addClass("outgoing");var d=$(".content",$.parseHTML(c));d.addClass("incoming").appendTo(".content-wrapper"),$(".outgoing").children().on(transitionEnd,function(a){a.stopPropagation()}).parent().one(transitionEnd,function(c){O.exit(function(){O.locate(a,b,function(){O.isCaseStudy()?$("body").attr("class",d.data("name")+" project"):$("body").attr("class",d.data("name")),$(".outgoing").remove(),window.scrollTo(0,0),$("#container").removeClass("transition"),O.enter(),d.removeClass("incoming")})})})},error:function(){$('<div class="error"><div class="error-text">Sorry! Something went wrong :(</div></div>').appendTo("#container").on(animationEnd,function(){$(this).remove()}),$("#container").removeClass("transition").one(transitionEnd,function(){$(window).trigger("cycle-stage")})}})},loader:$(".loader"),loaderInit:!1,loaderUp:function(){this.loaderInit?this.loader.addClass("active").removeClass("stop"):(this.loader.addClass("active").removeClass("stop"),this.loaderInit=!0)}},S={el:$('<nav class="back-button-holder"><a class="back-button" href="#"><span class="fg-color trans">Back</span></a></nav>'),target:null,appended:!1,getTarget:function(){return $(".site-links a.active").attr("href")},up:function(){switch(!0){case O.isCaseStudy()&&!this.appended:this.el.find("a").addClass("active"),this.el.appendTo(".main-header"),this.appended=!0;break;case O.isCaseStudy():this.el.find("a").addClass("active");break;default:this.el.find("a").removeClass("active")}},down:function(){}};S.el.on("click",function(a){url=S.getTarget(),$(document).trigger("navChange",[url,a.target]),a.preventDefault()}),L.click(function(a){$(this).removeClass("active").siblings().addClass("active"),$(this).is(":first-child")?d():e(),a.preventDefault()}),$(window).on("keyup",function(a){27==a.keyCode&&$("body").hasClass("menu")?(L.filter(".active").removeClass("active").siblings().addClass("active"),e()):13!=a.keyCode||$("body").hasClass("menu")||(L.filter(".active").removeClass("active").siblings().addClass("active"),d())});var T,U,V,W={},X='<section class="slideshow-wrapper">							<nav class="slideshow-paging">								<div class="back-button-holder">									<a href="#" class="back-button active"><span class="fg-color trans">Next Image</span></a>								</div>								<div class="next-button-holder">									<a href="#" class="next-button active"><span class="fg-color trans">Previous Image</span></a>								</div>							</nav>							<nav class="slideshow-close">								<a href="#" class="active">									<span class="close">Close										<span class="first bar fg-color"></span>										<span class="second bar fg-color"></span>									</span>								</a>							</nav>						</section>',Y='<svg version="1.1" class="video-spinner fg-color active trans" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"		 viewBox="0 0 40 40" enable-background="new 0 0 40 40" xml:space="preserve">		 <g id="spinner-holder" transform="translate(20,20)">			<g id="spinner">				<g id="spinner-left">					<path d="M0-17.3V-20c-11.1,0-20,8.9-20,20h2.7C-17.3-9.5-9.6-17.3,0-17.3z"/>				</g>				<g id="spinner-right">					<path d="M20,0h-2.7c0,9.6-7.8,17.3-17.3,17.3V20C11.1,20,20,11,20,0z"/>				</g>			</g>		</g>	</svg>',Z={},_=[{
project:"design-in-china",pairs:[[1,2],[5,6]]},{project:"huawei",pairs:[[2,3],[4,5]]}],aa=0,ba={ok:!1,go:!0,init:function(){var a=$(".content").height(),b=$(window).height();$("article.about, article.contact").length>0&&a>b&&(this.header=$(".menu-wrapper"),this.h=this.header.height(),this.d=a-b,this.o=-1*this.h,this.e=this.header.offset().top+this.h,this.ok=!0)},reset:function(){var a=this.init,b=this.reset;ca={ok:!1,go:!0,init:a,reset:b}}},ca=clone(ba),da={ok:!1,go:!0,init:function(){$("article.project").length>0&&(this.img=$("section.images > figure"),this.header=$("article.project > header"),this.client=this.header.find("h1"),this.title=this.header.find("h2"),this.d=this.img.height(),this.o=this.client.height(),this.e=this.img.height(),Modernizr.touchevents||this.client.add(M).add(this.title).css("transform","translate3d(0, 0, 0)"),this.img.css("background-color","#222"),this.ok=!0)}},ea=clone(da),fa={ok:!1,go:!0,init:function(){if($("article.project").length>0){this.wh=$(window).height(),this.header=$("section.text header"),this.client=this.header.find("h1"),this.title=this.header.find("h2"),this.o=60,this.s=this.header.offset().top-this.wh;var a=Math.min($(document).height()-this.wh,$("section.text").offset().top);this.e=a-this.s,this.ok=!0,Modernizr.touchevents||(style={transform:"translate3d(0,"+this.o+"px,0)",opacity:0},this.client.css(style),this.title.css(style))}}},ga=clone(fa);$(window).on("debouncedresize",function(a){ca.init(),ea.init(),ga.init()});var ha,ia={speed:1e3,manualSpeed:1,slides:"> a",loader:!0,pager:".cycle-pager",log:!1,startingSlide:0,paused:!0},ja=null,ka=null,la={w:$(window).height(),h:this.w/4,shift:this.w/2,pager:$(".cycle-pager"),wsize:function(a){this.w=$(window).height(),this.h=this.w/4,this.shift=this.w/2,$(".content").height(this.h*a+(this.w-this.h)),this.slideCount=a},frame:function(a){this.section=Math.round(a/this.h),this.o=2*(a/this.h-this.section),curve=Math.pow(Math.abs(this.o),6),this.c=curve<.1?0:curve,this.speed=Math.abs(a-this.pscroll),this.o<0?this.a=-1:this.o>0?this.a=1:this.a=0},reset:function(){this.section=0,this.psection=0,this.pscroll=0,this.speed=0,this.o=0,this.a=0,this.pa=0,this.c=0}};$(window).on("debouncedresize",function(){$("#cycle-scroll-holder section.cycle").length>0&&la.wsize(ha.length)});var ma;window.lazySizesConfig={addClasses:!0};var na=!1;$(document).on("lazybeforeunveil",function(a){na||(na=!0,b(na)),$(a.target).parents("figure").removeClass("loading")}),window.viewportUnitsBuggyfill.init(),O.locate(window.location.pathname,null),O.enter(!0)});
//# sourceMappingURL=scripts.js.map